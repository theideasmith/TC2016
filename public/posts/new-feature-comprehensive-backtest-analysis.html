<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<script type="text/javascript">var NREUMQ=NREUMQ||[];NREUMQ.push(["mark","firstbyte",new Date().getTime()]);</script>
<link href="../assets/logos/favicon-q-9ba6cb893a620560ab734fe26a5bef5f.png" rel="shortcut icon" type="image/vnd.microsoft.icon" />
<title>
Quantopian - New Feature: Comprehensive Backtest Analysis
</title>
<link href="../assets/quanto-base-bundle-b524a8864168203acdb8ea6f8202e97b.css" media="all" rel="stylesheet" type="text/css" />
<link href="../assets/quanto-posts-bundle-4d1829b92a81ea0c0075639b67664a5a.css" media="all" rel="stylesheet" type="text/css" />
<script src="../assets/quanto_global-44e85c6fa95d3651757ab8e426751f17.js" type="text/javascript"></script>
<script src="../assets/posts_bundle-8f06605d3f158235182f7d1018453be4.js" type="text/javascript"></script>
<script src="https://use.typekit.com/uvj7txo.js" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
try{Typekit.load()}catch(e){}
//]]>
</script>
<script src="https://js.stripe.com/v2/" type="text/javascript"></script>
<meta content='pk_live_qyEzgiIO9PIT9AEbwiX8qw6g' name='stripe-key'>
<meta content="authenticity_token" name="csrf-param" />
<meta content="XIZmvJvBSDp8R371BFoxbTfU5NJRO3ZTtXciYR83l3c=" name="csrf-token" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script type="text/javascript">
//<![CDATA[
window.quanto_data = {};quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-prod.herokuapp.com";
//]]>
</script>
<meta content='https://www.quantopian.com/posts/new-feature-comprehensive-backtest-analysis' property='og:url'>
<meta content='Quantopian - New Feature: Comprehensive Backtest Analysis' property='og:title'>

<input id="quanto-env" name="env" type="hidden" value="production" />
</head>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper' id='posts-show'>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='../home.html'>
<div class='logo-image'></div>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown hidden unconfirmed-user-header'>
<a class='header' data-toggle='dropdown' href='new-feature-comprehensive-backtest-analysis.html#'>
<span class='icon icon-warning'></span>
Unconfirmed Account
</a>
<ul class='dropdown-menu no-close-on-click'>
<div class='confirm-dropdown'>
<div>
Click on the confirmation link in the email that Quantopian sent to <strong class="confirm-email-address">
</strong>.
</div>
<div class='margin_10t'>
<button class='btn resend-confirmation' id='resend-confirmation-email-button'>Resend Confirmation Email</button>
</div>
</div>
</ul>
</li>
<li>
<a class='header' href='../fund.html'>Capital</a>
</li>
<li>
<a class='header' href='../data.html'>Data</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='new-feature-comprehensive-backtest-analysis.html#'>
My Code
</a>
<ul class='dropdown-menu quanto-dropdown-new'>
<li>
<a href='../research/survey.html'>Notebooks</a>
</li>
<li>
<a href='../algorithms.html'>Algorithms</a>
</li>
</ul>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='new-feature-comprehensive-backtest-analysis.html#'>
Community
</a>
<ul class='dropdown-menu'>
<li>
<a class='' href='../posts.html' id='community-header-link'>Forums</a>
</li>
<li>
<a href='../open.html'>Contest</a>
</li>
<li>
<a href='http://www.quantcon.com'>QuantCon</a>
</li>
</ul>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='new-feature-comprehensive-backtest-analysis.html#'>
Learn & Support
</a>
<ul class='dropdown-menu'>
<li>
<a href='../learn.html'>Learn</a>
</li>
<li>
<a class='open-feedback-link' href='new-feature-comprehensive-backtest-analysis.html#'>Contact Support</a>
</li>
</ul>
</li>
<li>
<a href="../signin.html" class="header unregistered-user-action">Log In</a>
</li>
<li>
<a href="../users/sign_up.html" class="header unregistered-user-action">Sign Up</a>
</li>

</ul>
</div>
</div>
</div>
<script>
  //<![CDATA[
    $(document).ready(function () {
      quanto.instances.fm = new quanto.FeedbackManager();
      quanto.instances.hm = new quanto.headerManager();
    })
  //]]>
</script>


<div class='content content-area new-style'>
<input id="page-id" name="page-id" type="hidden" value="postatomic" />
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='55db3adabc56223b0f0005a1'>
<input id='paprika' type='hidden' value='572d6df50c5e168274000745'>
<div class='post-container' data-post-id='55db3adabc56223b0f0005a1' id='55db3adabc56223b0f0005a1'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>New Feature: Comprehensive Backtest Analysis</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1440430810000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=New%20Feature:%20Comprehensive%20Backtest%20Analysis&url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fnew-feature-comprehensive-backtest-analysis%3Futm_source%3Dwebsite_share%26utm_campaign%3Dnew-feature-comprehensive-backtest-analysis%26utm_medium%3Dtwitter&via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fnew-feature-comprehensive-backtest-analysis%3Futm_source%3Dwebsite_share%26utm_campaign%3Dnew-feature-comprehensive-backtest-analysis%26utm_medium%3Dlinkedin&amp;title=New+Feature%3A+Comprehensive+Backtest+Analysis+%28Thomas+Wiecki%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='API' data-tag-id='55c50e7d8d4710ec6e000001' href='tag/API/newest.html'>API</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Q updates' data-tag-id='55c50e7d8d4710ec6e000012' href='https://www.quantopian.com/posts/tag/Q-updates/newest'>Q updates</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='research' data-tag-id='55c50e7d8d4710ec6e000018' href='https://www.quantopian.com/posts/tag/research/newest'>research</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Show Q' data-tag-id='55c50e7d8d4710ec6e000010' href='https://www.quantopian.com/posts/tag/Show-Q/newest'>Show Q</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='tools and tips' data-tag-id='55c50e7d8d4710ec6e000011' href='https://www.quantopian.com/posts/tag/tools-and-tips/newest'>tools and tips</a>
</div>
<input id="social_fb_post_link" name="social_fb_post_link" type="hidden" value="https://www.quantopian.com/posts/new-feature-comprehensive-backtest-analysis?utm_source=website_share&amp;utm_campaign=new-feature-comprehensive-backtest-analysis&amp;utm_medium=facebook" />
<input id="social_post_image" name="social_post_image" type="hidden" value="https://media.quantopian.com/logos/logo-q-red-outline.png" />
<input id="social_post_author" name="social_post_author" type="hidden" value="Thomas Wiecki" />
<div class='body-text'>
<div class='body-text-container post-body'><p>Today, we are happy to announce pyfolio, our open source library for performance and risk analysis! We originally created this as an internal tool to help us vet algorithms for consideration in the Quantopian hedge fund. Pyfolio allows you to easily generate plots and information about a stock, portfolio, or algorithm. It&#39;s available now on our research platform, and it makes it really easy to dive deep into analyzing your backtests. For more information, see the pyfolio website.</p>

<p>Pyfolio is also open source! <a href="https://github.com/quantopian/pyfolio">Here</a>&#39;s its GitHub page.</p>

<p>We&#39;ve attached an example notebook below (this is also available in the tutorials folder within research).</p>

<p>Contributors:<br>
Gus Gordon (<a href="../cdn-cgi/l/email-protection.html#c7a0b2b487b6b2a6a9b3a8b7aea6a9e9a4a8aa"><span class="__cf_email__" data-cfemail="a7c0d2d4e7d6d2c6c9d3c8d7cec6c989c4c8ca">[email&#160;protected]</span><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script></a>)<br>
David Edwards (<a href="../cdn-cgi/l/email-protection.html#127677766573607661526367737c667d627b737c3c717d7f"><span class="__cf_email__" data-cfemail="2c4849485b4d5e485f6c5d594d4258435c454d42024f4341">[email&#160;protected]</span><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script></a>)<br>
Justin Lent (<a href="../cdn-cgi/l/email-protection.html#ea809f999e8384aa9b9f8b849e859a838b84c4898587"><span class="__cf_email__" data-cfemail="fa908f898e9394ba8b8f9b948e958a939b94d4999597">[email&#160;protected]</span><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script></a>)<br>
Sepideh Sadeghi (<a href="../cdn-cgi/l/email-protection.html#8efdfea0fdefeaebe9e6e7cee9e3efe7e2a0ede1e3"><span class="__cf_email__" data-cfemail="c6b5b6e8b5a7a2a3a1aeaf86a1aba7afaae8a5a9ab">[email&#160;protected]</span><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script></a>)<br>
Jessica Stauth (<a href="../cdn-cgi/l/email-protection.html#9ff5ecebfeeaebf7dfeeeafef1ebf0eff6fef1b1fcf0f2"><span class="__cf_email__" data-cfemail="056f76716470716d457470646b716a756c646b2b666a68">[email&#160;protected]</span><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script></a>)<br>
Karen Rubin (<a href="../cdn-cgi/l/email-protection.html#7b101a091e153b0a0e1a150f140b121a1555181416"><span class="__cf_email__" data-cfemail="caa1abb8afa48abbbfaba4bea5baa3aba4e4a9a5a7">[email&#160;protected]</span><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script></a>)<br>
Thomas Wiecki (<a href="../cdn-cgi/l/email-protection.html#87f3efe8eae6f4c7f6f2e6e9f3e8f7eee6e9a9e4e8ea"><span class="__cf_email__" data-cfemail="a3d7cbcccec2d0e3d2d6c2cdd7ccd3cac2cd8dc0ccce">[email&#160;protected]</span><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script></a>)</p>
</div>
<div class='nb-preview-widget' data-post_id='55db3adabc56223b0f0005a1'>
<div class='align-right' id='preview-buttons'>
<button class='btn btn-default full-notebook-button'>View Notebook</button>
</div>
<div class='nb-preview-area'>
<div class='progress-area fade in'>
<div class='progress-container'>
<div class='progress-title'>
<i class='icon icon-spinner icon-spin icon-large'></i>
<span>Loading notebook preview...</span>
</div>
</div>
</div>
<div class='error-area fade'>
<div class='error-container'>
Notebook previews are currently unavailable.
</div>
</div>
<div class='nb-preview-wrapper fade'>
<iframe class='nb-preview-iframe preview-iframe' src='https://notebooks-prod.herokuapp.com/previews?key=4f1edd0b03b228000d000001%2F9106a347-5177-4f0f-a44b-1501ef3e0175%2Fpreview.html&vf=false'></iframe>
</div>
</div>
<div class='fade modal full-notebook-modal' role='dialog'>
<div class='nb-reader-navbar navbar navbar-default new-style'>
<div class='container-fluid'>
<div class='navbar-header'>
<div class='navbar-text avatar-container pull-left'>
<img class='avatar-small' src='https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png&s=30'>
</div>
<div class='navbar-text post-subtitle-text'>
<a class='gray user-link' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
<span>shared this notebook</span>
<span UTCms='1440430810000' class='quanto-date' data-lowercase='1'></span>
<span class='view-count visible-xs-inline-block'></span>
</div>
</div>
<div class='collapse navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li>
<a class='close-link' data-dismiss='modal'>
<span>
&times
</span>
</a>
</li>
</ul>
</div>
</div>
</div>
<div class='empty-backdrop'></div>
<div class='modal-dialog container'>
<div class='modal-content'>
<div class='modal-body'>
<div class='modal-area'>
<iframe class='full-notebook-iframe preview-iframe' src='https://notebooks-prod.herokuapp.com/previews?key=4f1edd0b03b228000d000001%2F9106a347-5177-4f0f-a44b-1501ef3e0175%2Fpreview.html&vf=true'></iframe>
</div>
</div>
</div>
</div>
</div>

</div>

</div>
</div>

<div class='reply-header'>
<div class='reply-title'>71 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='55db3afb700bf104e8000524' id='55db3afb700bf104e8000524'>
<a href='new-feature-comprehensive-backtest-analysis.html#55db3afb700bf104e8000524'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1440430846000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55db3afb700bf104e8000524'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is the accompanying backtest used to create the notebook.  </p>
</div>
<div class='backtest-widget' data-algo-id='55db2dbabc56223b0f00051d' data-backtest-id='55db2def35e3b00d9986aa99' data-post-id='55db3afb700bf104e8000524' id='backtest-widget-55db2def35e3b00d9986aa99'>
<input class="backtest-cached-data-url" id="" name="" type="hidden" value="/backtests/55db2def35e3b00d9986aa99/shared_backtest_data" />
<div class='pull-right clone-controls'>
<div class='btn btn-primary clone-backtest-button' data-original-title='Make a copy of this algorithm so you can explore and improve it.' data-placement='top' rel='tooltip'>
<i class='icon icon-copy'></i>
Clone Algorithm
</div>
<div class='clone-count-icon clone-count-right' id='clone-count'>97</div>
</div>
<ul class='nav nav-tabs' role='tablist'>
<li class='active'>
<a class='disabled' data-toggle='tab' href='new-feature-comprehensive-backtest-analysis.html#perf-55db2def35e3b00d9986aa99'>Performance</a>
</li>
<li class='risk-tab-header'>
<a class='disabled hide-when-narrow' data-toggle='tab' href='new-feature-comprehensive-backtest-analysis.html#risk-55db2def35e3b00d9986aa99'>Risk Metrics</a>
</li>
<li>
<a class='disabled codelink' data-toggle='tab' href='new-feature-comprehensive-backtest-analysis.html#code-tab-55db2def35e3b00d9986aa99'>Source Code</a>
</li>
<li class='hidden error-tab-header'>
<a data-toggle='tab' href='new-feature-comprehensive-backtest-analysis.html#error-tab-55db2def35e3b00d9986aa99'>Errors</a>
</li>
</ul>
<div class='tab-content'>
<div class='tab-pane perf active' id='perf-55db2def35e3b00d9986aa99'>
<div class='loading-overlay'>
<div class='backtest-loading'>
<img class='loading-image'>
<span class='bold' id='loading-message'>Loading...</span>
<div class='progress progress-striped active inline-block'>
<div class='bar backtest-progress-bar' style='width:0%'></div>
</div>
</div>
<div class='backtest-loading-error hidden'>
<img class='loading-image'>
<span class='bold'>There was an error loading this backtest.</span>
<span class='underline'><a class='retry-backtest-widget-load'>Retry</a></span>
</div>
</div>
<div class='perf-chart-container'>
<div class='perf-title'>
<span>Backtest from </span>
<span class='bold backtest_start_date_display black'></span>
<span> to </span>
<span class='bold backtest_end_date_display black'></span>
<span> with </span>
<span class='bold backtest_capitalbase_display black'></span>
<span> initial capital</span>
<input class="data_backtest_start_date_ms" id="backtest_start_date_ms" name="backtest_start_date_ms" type="hidden" value="1294099200000" />
<input class="data_backtest_end_date_ms" id="backtest_end_date_ms" name="backtest_end_date_ms" type="hidden" value="1440201540000" />
<input class="data_backtest_capital_base" id="backtest_capital_base" name="backtest_capital_base" type="hidden" value="1000000" />
</div>
<div class='perf-data'>
<div class='perf-metadata'>
<div class='chart-label date'>
<span class='date-chart-label'></span>
</div>
<div class='chart-label portfolio-performance' id='portfolio-perf-label'>
<span class='cumulative-performance-label'>Cumulative performance:</span>
<div class='payload'>
<span class='algorithm-tooltip legend-item' data-key='Returns'>
<span class='square blue'></span>
<span class='blue'>Algorithm </span>
<span class='chart-value performance-value'></span>
</span>
<span class='benchmark-tooltip legend-item' data-key='Benchmark'>
<span class='square red margin_15l'></span>
<span class='55db2def35e3b00d9986aa99 red'>Benchmark </span>
<span class='chart-value benchmark-value'></span>
</span>
</div>
</div>
</div>
<div class='chart-label custom-variable-legend hidden'>
<div class='custom-data-label'>Custom data:</div>
<div class='legend-container custom-vars-legend-container' id='custom-vars-legend-container'></div>
</div>
<div class='perf-summary-chart' id='perf-summary-chart-55db2def35e3b00d9986aa99'></div>
</div>
</div>
</div>
<div class='tab-pane data-container' id='risk-55db2def35e3b00d9986aa99'>
<div class='tabbable tabs-left'>
<ul class='nav nav-tabs' id='result-tabs'>
<li class='active'>
<a data-toggle='tab' href='new-feature-comprehensive-backtest-analysis.html#tab-55db2def35e3b00d9986aa99-overall'>Overall Metrics</a>
</li>
<li data-metric='algorithm_period_return'>
<a data-toggle='tab' href='new-feature-comprehensive-backtest-analysis.html#tab-55db2def35e3b00d9986aa99-algorithm_period_return'>Returns</a>
</li>
<li data-metric='alpha'>
<a data-toggle='tab' href='new-feature-comprehensive-backtest-analysis.html#tab-55db2def35e3b00d9986aa99-alpha'>Alpha</a>
</li>
<li data-metric='beta'>
<a data-toggle='tab' href='new-feature-comprehensive-backtest-analysis.html#tab-55db2def35e3b00d9986aa99-beta'>Beta</a>
</li>
<li data-metric='sharpe'>
<a data-toggle='tab' href='new-feature-comprehensive-backtest-analysis.html#tab-55db2def35e3b00d9986aa99-sharpe'>Sharpe</a>
</li>
<li data-metric='sortino'>
<a data-toggle='tab' href='new-feature-comprehensive-backtest-analysis.html#tab-55db2def35e3b00d9986aa99-sortino'>Sortino</a>
</li>
<li data-metric='information'>
<a data-toggle='tab' href='new-feature-comprehensive-backtest-analysis.html#tab-55db2def35e3b00d9986aa99-information'>Information Ratio</a>
</li>
<li data-metric='algo_volatility'>
<a data-toggle='tab' href='new-feature-comprehensive-backtest-analysis.html#tab-55db2def35e3b00d9986aa99-algo_volatility'>Volatility</a>
</li>
<li data-metric='max_drawdown'>
<a data-toggle='tab' href='new-feature-comprehensive-backtest-analysis.html#tab-55db2def35e3b00d9986aa99-max_drawdown'>Max Drawdown</a>
</li>
</ul>
<div class='tab-content inner'>
<div class='tab-pane active' id='tab-55db2def35e3b00d9986aa99-overall'>
<div class='backtest-overall-results-summary'>
<div class='row1'>
<div class='top-level-stat'>
<div class='stat-label'>Total Returns</div>
<div class='stat-value' datafield='total_returns'>--</div>
</div>
<div class='top-level-stat'>
<div class='stat-label'>Alpha</div>
<div class='stat-value' datafield='alpha'>--</div>
</div>
<div class='top-level-stat'>
<div class='stat-label'>Beta</div>
<div class='stat-value' datafield='beta'>--</div>
</div>
</div>
<div class='row2'>
<div class='top-level-stat'>
<div class='stat-label'>Sharpe</div>
<div class='stat-value' datafield='sharpe'>--</div>
</div>
<div class='top-level-stat'>
<div class='stat-label'>Sortino</div>
<div class='stat-value' datafield='sortino'>
<span class='optional-metric-field' data-animation='false' data-original-title='This backtest was run before Quantopian started tracking the Sortino ratio.' data-placement='top' rel='tooltip'>--</span>
</div>
</div>
<div class='top-level-stat'>
<div class='stat-label'>Information Ratio</div>
<div class='stat-value' datafield='information'>
<span class='optional-metric-field' data-animation='false' data-original-title='This backtest was run before Quantopian started tracking the information ratio.' data-placement='top' rel='tooltip'>--</span>
</div>
</div>
</div>
<div class='row3'>
<div class='top-level-stat'>
<div class='stat-label'>Benchmark Returns</div>
<div class='stat-value' datafield='benchmark_returns'>--</div>
</div>
<div class='top-level-stat'>
<div class='stat-label'>Volatility</div>
<div class='stat-value' datafield='volatility'>--</div>
</div>
<div class='top-level-stat'>
<div class='stat-label'>Max Drawdown</div>
<div class='stat-value' datafield='max_drawdown'>--</div>
</div>
</div>
</div>
</div>
<div class='tab-pane' id='tab-55db2def35e3b00d9986aa99-algorithm_period_return'>
<table class='table table-striped table-bordered table-condensed' data-riskmetric='algorithm_period_return'>
<thead>
<tr>
<td class='date'>Returns</td>
<td>1 Month</td>
<td>3 Month</td>
<td>6 Month</td>
<td>12 Month</td>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
<div class='tab-pane' id='tab-55db2def35e3b00d9986aa99-alpha'>
<table class='table table-striped table-bordered table-condensed' data-riskmetric='alpha'>
<thead>
<tr>
<td class='date'>Alpha</td>
<td>1 Month</td>
<td>3 Month</td>
<td>6 Month</td>
<td>12 Month</td>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
<div class='tab-pane' id='tab-55db2def35e3b00d9986aa99-beta'>
<table class='table table-striped table-bordered table-condensed' data-riskmetric='beta'>
<thead>
<tr>
<td class='date'>Beta</td>
<td>1 Month</td>
<td>3 Month</td>
<td>6 Month</td>
<td>12 Month</td>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
<div class='tab-pane' id='tab-55db2def35e3b00d9986aa99-sharpe'>
<table class='table table-striped table-bordered table-condensed' data-riskmetric='sharpe'>
<thead>
<tr>
<td class='date'>Sharpe</td>
<td>1 Month</td>
<td>3 Month</td>
<td>6 Month</td>
<td>12 Month</td>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
<div class='tab-pane' id='tab-55db2def35e3b00d9986aa99-sortino'>
<table class='table table-striped table-bordered table-condensed' data-riskmetric='sortino'>
<thead>
<tr>
<td class='date'>Sortino</td>
<td>1 Month</td>
<td>3 Month</td>
<td>6 Month</td>
<td>12 Month</td>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
<div class='tab-pane' id='tab-55db2def35e3b00d9986aa99-information'>
<table class='table table-striped table-bordered table-condensed' data-riskmetric='information'>
<thead>
<tr>
<td class='date'>Information Ratio</td>
<td>1 Month</td>
<td>3 Month</td>
<td>6 Month</td>
<td>12 Month</td>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
<div class='tab-pane' id='tab-55db2def35e3b00d9986aa99-algo_volatility'>
<table class='table table-striped table-bordered table-condensed' data-riskmetric='algo_volatility'>
<thead>
<tr>
<td class='date'>Volatility</td>
<td>1 Month</td>
<td>3 Month</td>
<td>6 Month</td>
<td>12 Month</td>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
<div class='tab-pane' id='tab-55db2def35e3b00d9986aa99-max_drawdown'>
<table class='table table-striped table-bordered table-condensed' data-riskmetric='max_drawdown'>
<thead>
<tr>
<td class='date'>Max Drawdown</td>
<td>1 Month</td>
<td>3 Month</td>
<td>6 Month</td>
<td>12 Month</td>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
</div>
</div>
</div>
<div class='tab-pane' id='code-tab-55db2def35e3b00d9986aa99'>
<div class='code-container'>
<div class='backtest-id-to-show-container'>
<div class='code-sidebar-filler'></div>
<div class='backtest-id-to-show'># Backtest ID: 55db2def35e3b00d9986aa99</div>
</div>
<textarea class="code-snapshot-textbox" id="code-snapshot-textbox-55db2def35e3b00d9986aa99" name="code-snapshot-textbox-55db2def35e3b00d9986aa99">
# This is a sample mean-reversion algorithm on Quantopian for you to test and adapt.&#x000A;&#x000A;# Algorithm investment thesis: &#x000A;# Top-performing stocks from last week will do worse this week, and vice-versa.&#x000A;&#x000A;# Every Monday, we rank high-volume stocks based on their previous 5 day returns. &#x000A;# We go long the bottom 20% of stocks with the WORST returns over the past 5 days.&#x000A;# We go short the top 20% of stocks with the BEST returns over the past 5 days.&#x000A;&#x000A;# This type of algorithm may be used in live trading and in the Quantopian Open.&#x000A;&#x000A;# Import the libraries we will use here&#x000A;import numpy as np&#x000A;&#x000A;# The initialize function is the place to set your tradable universe and define any parameters. &#x000A;def initialize(context):&#x000A;    # Use the top 1% of stocks defined by average daily trading volume.&#x000A;    set_universe(universe.DollarVolumeUniverse(99, 100))&#x000A;    &#x000A;    # Set execution cost assumptions. For live trading with Interactive Brokers &#x000A;    # we will assume a $1.00 minimum per trade fee, with a per share cost of $0.0075. &#x000A;    set_commission(commission.PerShare(cost=0.0075, min_trade_cost=1.00))&#x000A;    &#x000A;    # Set market impact assumptions. We limit the simulation to &#x000A;    # trade up to 2.5% of the traded volume for any one minute,&#x000A;    # and  our price impact constant is 0.1. &#x000A;    set_slippage(slippage.VolumeShareSlippage(volume_limit=0.025, price_impact=0.10))&#x000A;    &#x000A;    # Define the other variables&#x000A;    context.long_leverage = 0.5&#x000A;    context.short_leverage = -0.5&#x000A;    context.lower_percentile = 20&#x000A;    context.upper_percentile = 80&#x000A;    context.returns_lookback = 5&#x000A;           &#x000A;    # Rebalance every Monday (or the first trading day if it&#x27;s a holiday).&#x000A;    # At 11AM ET, which is 1 hour and 30 minutes after market open.&#x000A;    schedule_function(rebalance, &#x000A;                      date_rules.week_start(days_offset=0),&#x000A;                      time_rules.market_open(hours = 1, minutes = 30))  &#x000A;&#x000A;# The handle_data function is run every bar.    &#x000A;def handle_data(context,data):    &#x000A;    # Record and plot the leverage of our portfolio over time. &#x000A;    record(leverage = context.account.leverage)&#x000A;&#x000A;    # We also want to monitor the number of long and short positions &#x000A;    # in our portfolio over time. This loop will check our positition sizes &#x000A;    # and add the count of longs and shorts to our plot.&#x000A;    longs = shorts = 0&#x000A;    for position in context.portfolio.positions.itervalues():&#x000A;        if position.amount &gt; 0:&#x000A;            longs += 1&#x000A;        if position.amount &lt; 0:&#x000A;            shorts += 1&#x000A;    record(long_count=longs, short_count=shorts)&#x000A;&#x000A;# This rebalancing is called according to our schedule_function settings.     &#x000A;def rebalance(context,data):&#x000A;    # Get the last N days of prices for every stock in our universe.&#x000A;    prices = history(context.returns_lookback, &#x27;1d&#x27;, &#x27;price&#x27;)&#x000A;    &#x000A;    # Calculate the past 5 days&#x27; returns for each security.&#x000A;    returns = (prices.iloc[-1] - prices.iloc[0]) / prices.iloc[0]&#x000A;    &#x000A;    # Remove stocks with missing prices.&#x000A;    # Remove any stocks we ordered last time that still have open orders.&#x000A;    # Get the cutoff return percentiles for the long and short portfolios.&#x000A;    returns = returns.dropna()&#x000A;    open_orders = get_open_orders()&#x000A;    if open_orders:&#x000A;        eligible_secs = [sec for sec in data if sec not in open_orders]&#x000A;        returns = returns[eligible_secs]&#x000A;&#x000A;    # Lower percentile is the threshhold for the bottom 20%, upper percentile is for the top 20%.&#x000A;    lower, upper = np.percentile(returns, [context.lower_percentile,&#x000A;                                           context.upper_percentile])&#x000A;    &#x000A;    # Select the X% worst performing securities to go long.&#x000A;    long_secs = returns[returns &lt;= lower]&#x000A;    &#x000A;    # Select the Y% best performing securities to short.&#x000A;    short_secs = returns[returns &gt;= upper]&#x000A;    &#x000A;    # Set the allocations to even weights in each portfolio.&#x000A;    long_weight = context.long_leverage / len(long_secs)&#x000A;    short_weight = context.short_leverage / len(short_secs)&#x000A;    &#x000A;    for security in data:&#x000A;        &#x000A;        # Buy/rebalance securities in the long leg of our portfolio.&#x000A;        if security in long_secs:&#x000A;            order_target_percent(security, long_weight)&#x000A;            &#x000A;        # Sell/rebalance securities in the short leg of our portfolio.&#x000A;        elif security in short_secs:&#x000A;            order_target_percent(security, short_weight)&#x000A;            &#x000A;        # Close any positions that fell out of the list of securities to long or short.&#x000A;        else:&#x000A;            order_target(security, 0)&#x000A;            &#x000A;    log.info(&quot;This week&#x27;s longs: &quot;+&quot;, &quot;.join([long_.symbol for long_ in long_secs.index]))&#x000A;    log.info(&quot;This week&#x27;s shorts: &quot;  +&quot;, &quot;.join([short_.symbol for short_ in short_secs.index]))&#x000A;</textarea>
</div>
</div>
<div class='tab-pane' id='error-tab-55db2def35e3b00d9986aa99'>
<div class='backtest-widget-errors error-info'>
<div class='error-title'>
<span class='yourfault'>There was a runtime error.</span>
<span class='ourfault hidden'>
Something went wrong. Sorry for the inconvenience. Try using the built-in <a href='../help.html#debugger' target='_blank'>debugger</a> to analyze your code. If you would like help, send us an <a class='open-feedback-link'>email</a>.
</span>
</div>
<div class='error-container'>
<div class='error-message'></div>
<div class='error-details'></div>
</div>
</div>
</div>
</div>

</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55db3dfe700bf104e8000544' id='55db3dfe700bf104e8000544'>
<a href='new-feature-comprehensive-backtest-analysis.html#55db3dfe700bf104e8000544'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4e322fa200fffd0001000001'><img alt="F59406ed486edc76c94544468c11344d?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/f59406ed486edc76c94544468c11344d?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4e322fa200fffd0001000001'>Scott Sanderson</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1440431619000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55db3dfe700bf104e8000544'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There&#39;s also an early release of pyfolio available on the Python Package Index (PyPI).  If you have pip, the standard python package installer, you can download the release with:  </p>

<pre><code>pip install pyfolio  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55db413cbc5622d8c300054c' id='55db413cbc5622d8c300054c'>
<a href='new-feature-comprehensive-backtest-analysis.html#55db413cbc5622d8c300054c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/5590396ee4a51e7f640000e2'><img alt="A4c6e8efa61b27c5a937338e6f7c6b60?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/a4c6e8efa61b27c5a937338e6f7c6b60?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/5590396ee4a51e7f640000e2'>bc</a>
</div>
<a UTCms='1440432447000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55db413cbc5622d8c300054c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is a tremendous initiative. Makes me happy, thanks!!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55db572a24bb356926000605' id='55db572a24bb356926000605'>
<a href='new-feature-comprehensive-backtest-analysis.html#55db572a24bb356926000605'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/5571c1ccc4cf58ad97000553'><img alt="Bb0dee145d858e3fdf45d20b41722996?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/bb0dee145d858e3fdf45d20b41722996?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/5571c1ccc4cf58ad97000553'>Andrew Hu</a>
</div>
<a UTCms='1440438061000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55db572a24bb356926000605'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This project is a fantastic move towards portfolio analysis in a statistical fashion! I really appreciate the effort the whole team has put into it!</p>

<p>I&#39;m most interested in the Bayesian analysis functions this package provides. Is there a way that I can get those Bayesian analysis results in numbers besides plots? More specifically, are there functions to extract Bayesian analysis metrics just like the following?</p>

<p>returns, positions, transactions, gross_lev = pf.utils.extract_rets_pos_txn_from_zipline(backtest)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55db5ac3700bf104e800062c' id='55db5ac3700bf104e800062c'>
<a href='new-feature-comprehensive-backtest-analysis.html#55db5ac3700bf104e800062c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1440438984000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55db5ac3700bf104e800062c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>AD &amp; Andrew, thanks for the encouraging words!</p>

<p>@Andrew: The Bayesian part is still the most experimental (although it has been quite useful to us already). There are functions that run the models individually and return a trace object that contains samples from the posterior. A histogram over these samples provides the posterior distribution that is shown. For more details, see the doc strings in pyfolio.bayesian (<a href="https://github.com/quantopian/pyfolio/blob/master/pyfolio/bayesian.py">https://github.com/quantopian/pyfolio/blob/master/pyfolio/bayesian.py</a>). We still have to put up the compiled doc strings in html. For example, you could run:</p>

<pre><code># Run model that assumes returns to be T-distributed  
trace = pf.bayesian.run_model(&#39;t&#39;, returns)  
# Check what frequency of samples from the sharpe posterior are above 0.  
print(&#39;Probability that Sharpe ratio &gt; 0 = {}&#39;.format((trace[&#39;sharpe&#39;] &gt; 0).mean())  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55db64d99dc9d44b4b000758' id='55db64d99dc9d44b4b000758'>
<a href='new-feature-comprehensive-backtest-analysis.html#55db64d99dc9d44b4b000758'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/5571c1ccc4cf58ad97000553'><img alt="Bb0dee145d858e3fdf45d20b41722996?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/bb0dee145d858e3fdf45d20b41722996?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/5571c1ccc4cf58ad97000553'>Andrew Hu</a>
</div>
<a UTCms='1440441567000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55db64d99dc9d44b4b000758'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Thomas: The doc string and source code are extremely helpful! I really appreciate your great info.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55db65bf8e7c89729800045e' id='55db65bf8e7c89729800045e'>
<a href='new-feature-comprehensive-backtest-analysis.html#55db65bf8e7c89729800045e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/54190a3694339e5d3a0000af'><img alt="0ce35c636f83b2ccc10b4234b9e6748d?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/0ce35c636f83b2ccc10b4234b9e6748d?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/54190a3694339e5d3a0000af'>Alex</a>
</div>
<a UTCms='1440441795000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55db65bf8e7c89729800045e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Very awesome. Additional analytics tools are a huge help. I&#39;ll dig into this right away. Thank you, folks!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55db6712bc5622d8c3000688' id='55db6712bc5622d8c3000688'>
<a href='new-feature-comprehensive-backtest-analysis.html#55db6712bc5622d8c3000688'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/541c92f7db2aaa63d10002e2'><img alt="7fa919b17c85a0158cdb63577bc03bc4?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/7fa919b17c85a0158cdb63577bc03bc4?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/541c92f7db2aaa63d10002e2'>good trader m.A.A.d Banks</a>
</div>
<a UTCms='1440442133000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55db6712bc5622d8c3000688'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Amazing!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55dc917e1492a08f3e000298' id='55dc917e1492a08f3e000298'>
<a href='new-feature-comprehensive-backtest-analysis.html#55dc917e1492a08f3e000298'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/5150fd5e153d46083d0002df'><img alt="0cd967e3fc329b28fddcc04bf5848e3c?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/0cd967e3fc329b28fddcc04bf5848e3c?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/5150fd5e153d46083d0002df'>Gus Gordon</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1440518532000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55dc917e1492a08f3e000298'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Also note that pyfolio has functions that allow you to calculate Sharpe, Beta, etc.: <a href="https://github.com/quantopian/pyfolio/blob/master/pyfolio/timeseries.py#L346">https://github.com/quantopian/pyfolio/blob/master/pyfolio/timeseries.py#L346</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55ddc6aef093e0181c000013' id='55ddc6aef093e0181c000013'>
<a href='new-feature-comprehensive-backtest-analysis.html#55ddc6aef093e0181c000013'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/558c4fe1e35cf650940000f1'><img alt="15d58395cae36ee1a8b359fc9d8e7e84?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/15d58395cae36ee1a8b359fc9d8e7e84?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/558c4fe1e35cf650940000f1'>Umar Hasan</a>
</div>
<a UTCms='1440597681000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55ddc6aef093e0181c000013'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Nice!! While the tear sheets are running for me, I am still getting this error below - any idea what I am doing wrong? backtest ID#55dbf2424834f60da9d59f2c (feel free to access it if you can)</p>

<p>/usr/local/lib/python2.7/dist-packages/pyfolio/utils.py:140: UserWarning: Could not update cache /usr/local/lib/python2.7/dist-packages/pyfolio/data/factors.csv.Exception: [Errno 13] Permission denied: &#39;/usr/local/lib/python2.7/dist-packages/pyfolio/data/factors.csv&#39;
  UserWarning)<br>
/usr/local/lib/python2.7/dist-packages/matplotlib/cbook.py:133: MatplotlibDeprecationWarning: The &quot;loc&quot; positional argument to legend is deprecated. Please use the &quot;loc&quot; keyword instead.
  warnings.warn(message, mplDeprecation, stacklevel=1)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55ddda323874c4740d000086' id='55ddda323874c4740d000086'>
<a href='new-feature-comprehensive-backtest-analysis.html#55ddda323874c4740d000086'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1440602677000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55ddda323874c4740d000086'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Umar: Those are just warnings which you can safely ignore. We&#39;ll remove them eventually.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55e0a1f1a8c5d3df1c00002e' id='55e0a1f1a8c5d3df1c00002e'>
<a href='new-feature-comprehensive-backtest-analysis.html#55e0a1f1a8c5d3df1c00002e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/55905153891e720e81000147'><img alt="B941d03f12617e350d537fda66a25f94?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/b941d03f12617e350d537fda66a25f94?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/55905153891e720e81000147'>Tyler Wright</a>
</div>
<a UTCms='1440784888000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55e0a1f1a8c5d3df1c00002e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Has anyone looked into exporting tear sheets from ipython notebook??  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55e0a29b446c6034b7000034' id='55e0a29b446c6034b7000034'>
<a href='new-feature-comprehensive-backtest-analysis.html#55e0a29b446c6034b7000034'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1440785055000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55e0a29b446c6034b7000034'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Tyler: You can export to various formats. What I do sometimes is to run a tear sheet (or multiple) and then do Notebook->Download As->HTML which contains everything. Or perhaps you mean something else?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55e0a4d08568f7ab1100000e' id='55e0a4d08568f7ab1100000e'>
<a href='new-feature-comprehensive-backtest-analysis.html#55e0a4d08568f7ab1100000e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/55905153891e720e81000147'><img alt="B941d03f12617e350d537fda66a25f94?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/b941d03f12617e350d537fda66a25f94?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/55905153891e720e81000147'>Tyler Wright</a>
</div>
<a UTCms='1440785619000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55e0a4d08568f7ab1100000e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thomas: Thanks for the quick reply.  I&#39;m regarding more of a presentation format to be easily printed. Maybe downloading into PDF via LaTeX? I&#39;ve been receiving an error when trying that though.  Maybe you have some thoughts?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55e42eded1d5443d75000603' id='55e42eded1d5443d75000603'>
<a href='new-feature-comprehensive-backtest-analysis.html#55e42eded1d5443d75000603'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1441017569000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55e42eded1d5443d75000603'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Tyler: You can also try Notebooks -> Print Preview and then save to any format your browser supports.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55e6365e1f729f0dd900053a' id='55e6365e1f729f0dd900053a'>
<a href='new-feature-comprehensive-backtest-analysis.html#55e6365e1f729f0dd900053a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/539133a0ca9962c7a9000124'><img alt="40fd36f74ef482a61e96f7be42763d65?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/40fd36f74ef482a61e96f7be42763d65?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/539133a0ca9962c7a9000124'>Charles Piché</a>
</div>
<a UTCms='1441150562000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#55e6365e1f729f0dd900053a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Very.... &quot;revealing&quot; analysis. Thank you very much for that!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='563abf48f21202b5b6000007' id='563abf48f21202b5b6000007'>
<a href='new-feature-comprehensive-backtest-analysis.html#563abf48f21202b5b6000007'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/5590c016248f1472ae000286'><img alt="1a2b21eaf54a819d57cb3044dba06888?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1446690638000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#563abf48f21202b5b6000007'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>How do I find my backtest&#39;s ID for use in the Pyfolio notebook?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='563ac6fffb216f439a00016e' id='563ac6fffb216f439a00016e'>
<a href='new-feature-comprehensive-backtest-analysis.html#563ac6fffb216f439a00016e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/54460194d718f327fd000380'><img alt="E511e4eeb9334ef82f1caa7bd66c36dc?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1446692612000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#563ac6fffb216f439a00016e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>open your backtest and in the browser&#39;s url address you can see it:</p>

<p><a href="https://www.quantopian.com/algorithms/xxxxxxxxx/yyyyyyyyyy">https://www.quantopian.com/algorithms/xxxxxxxxx/yyyyyyyyyy</a></p>

<p>backtestid = yyyyyyyyyy  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='563b0c9803466717fe000318' id='563b0c9803466717fe000318'>
<a href='new-feature-comprehensive-backtest-analysis.html#563b0c9803466717fe000318'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/5590c016248f1472ae000286'><img alt="1a2b21eaf54a819d57cb3044dba06888?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1446710428000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#563b0c9803466717fe000318'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks, Luca!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='563b1b583be30feb1600054f' id='563b1b583be30feb1600054f'>
<a href='new-feature-comprehensive-backtest-analysis.html#563b1b583be30feb1600054f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1446714206000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#563b1b583be30feb1600054f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Tim, you can also run a tearsheet on any shared algorithm. The algo ID can be found in the first row of any forum shared algorithm&#39;s source-code.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='563b58b9f21202bc79000199' id='563b58b9f21202bc79000199'>
<a href='new-feature-comprehensive-backtest-analysis.html#563b58b9f21202bc79000199'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/54d998ec279df500d500019b'><img alt="A36bb804087e59485f5328c7df6343e2?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/a36bb804087e59485f5328c7df6343e2?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/54d998ec279df500d500019b'>John Jay Buchtel</a>
</div>
<a UTCms='1446729919000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#563b58b9f21202bc79000199'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I notice that the CAGR, Sharpe, Sortino, Alpha, Beta, etc. ratios reported in Pyfolio are quite different from those reported on the top of Full Backtest.</p>

<p>If someone would explain this variation I would appreciate that!</p>

<p>It would also be useful to put the CAGR on the top of the Full Backtest, yes?</p>

<p>Thank you.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='563bc6bffc3ab3d6d900000d' id='563bc6bffc3ab3d6d900000d'>
<a href='new-feature-comprehensive-backtest-analysis.html#563bc6bffc3ab3d6d900000d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/54e3ca9721b31908a5000056'><img alt="A839509d8de958403d71c3459198fa2b?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/a839509d8de958403d71c3459198fa2b?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/54e3ca9721b31908a5000056'>Stephen Harlin, MD</a>
</div>
<a UTCms='1446758087000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#563bc6bffc3ab3d6d900000d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Tom, that&#39;s a great tool.  I just used it to compare Jamie Lunn&#39;s long only volatility strategy to my 3-asset class mod.  In the process, I think I demonstrated a nice application of pyfolio.  I just posted my side-by-side comparison in the &quot;worthy of Q fund&quot; thread.  I think once developers use pyfolio, they&#39;ll never go back to &quot;...twiddling with parameters in a backtest,&quot; as Simon Thornington recently wrote.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='564c8e858fbfea1ad3000091' id='564c8e858fbfea1ad3000091'>
<a href='new-feature-comprehensive-backtest-analysis.html#564c8e858fbfea1ad3000091'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/541237a83c97fa78c000045b'><img alt="24381e039c7c79f1939609861ad8c1ce?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/24381e039c7c79f1939609861ad8c1ce?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/541237a83c97fa78c000045b'>Derek Tishler</a>
</div>
<a UTCms='1447857801000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#564c8e858fbfea1ad3000091'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Amazing feature addition! Is it currently possible to feed in algos run in the Research platform or does it have to be an IDE based backtest?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='564c8f668fbfea1ad300009c' id='564c8f668fbfea1ad300009c'>
<a href='new-feature-comprehensive-backtest-analysis.html#564c8f668fbfea1ad300009c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1447858026000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#564c8f668fbfea1ad300009c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Derek. You can also run it on a zipline algorithm run on research. See here for more information on how to do that: <a href="http://quantopian.github.io/pyfolio/zipline_algo_example/">http://quantopian.github.io/pyfolio/zipline_algo_example/</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56583a51188ee380f80002f1' id='56583a51188ee380f80002f1'>
<a href='new-feature-comprehensive-backtest-analysis.html#56583a51188ee380f80002f1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/5647afa3f82083a4fd0006e0'><img alt="D3dacde4a0dbbdaa3e9068ffb4218f6a?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/d3dacde4a0dbbdaa3e9068ffb4218f6a?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/5647afa3f82083a4fd0006e0'>Alpha Pursuit</a>
</div>
<a UTCms='1448622677000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56583a51188ee380f80002f1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>If I run the below notebook, or with any other backtestid in the notebook for that matter, get the below error.  Only the cumulative returns graphs are displayed.  All other graphs are &quot;empty&quot;.  </p>

<p>&quot;TypeError: cannot concatenate &#39;str&#39; and &#39;zipline.assets._assets.Equity&#39; objects&quot;</p>

<h6>##########</h6>

<h1>Get backtest object</h1>

<p>bt = get_backtest(&#39;55db2def35e3b00d9986aa99&#39;)  </p>

<h1>Create all tear sheets</h1>

<p>bt.create_full_tear_sheet()<br>
bt.create_bayesian_tear_sheet(live_start_date=&#39;2011-1-1&#39;)  </p>

<h6>#################</h6>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56583da81204a781e0000328' id='56583da81204a781e0000328'>
<a href='new-feature-comprehensive-backtest-analysis.html#56583da81204a781e0000328'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1448623531000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56583da81204a781e0000328'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Alpha, thanks for reporting. That&#39;s a bug alright. It&#39;s an easy fix and I think we can resolve this soon. I&#39;ll make a note once we did here.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56589ca6c1f58d3cd0000561' id='56589ca6c1f58d3cd0000561'>
<a href='new-feature-comprehensive-backtest-analysis.html#56589ca6c1f58d3cd0000561'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/530d0e5f6ce7f6278b0000b5'><img alt="Bcde73815aee42d596518bcef5f9a044?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/bcde73815aee42d596518bcef5f9a044?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/530d0e5f6ce7f6278b0000b5'>Matthew Roesener</a>
</div>
<a UTCms='1448647853000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56589ca6c1f58d3cd0000561'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Thomas,</p>

<p>Same error here :) Empty Charts</p>

<p>TypeError: cannot concatenate &#39;str&#39; and &#39;zipline.assets._assets.Equity&#39; objects  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5658fc649b67ab8ccc000642' id='5658fc649b67ab8ccc000642'>
<a href='new-feature-comprehensive-backtest-analysis.html#5658fc649b67ab8ccc000642'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/5033e9d73fb2eb0002000231'><img alt="4a9a839742731aad6e110e1d3586e020?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1448672361000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#5658fc649b67ab8ccc000642'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ah yeah I am getting that too :/  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5659d88af6d2bfe95c000418' id='5659d88af6d2bfe95c000418'>
<a href='new-feature-comprehensive-backtest-analysis.html#5659d88af6d2bfe95c000418'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1448728720000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#5659d88af6d2bfe95c000418'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I think I have a fix, just have to get it merged and pushed to the site. Hopefully we can get there Monday.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='565c0b44ab19a1e8b500069f' id='565c0b44ab19a1e8b500069f'>
<a href='new-feature-comprehensive-backtest-analysis.html#565c0b44ab19a1e8b500069f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/54f2264d107c4b8f3300005d'><img alt="7260fc217e8887d42ba4abd5c37a1eaf?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/7260fc217e8887d42ba4abd5c37a1eaf?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/54f2264d107c4b8f3300005d'>David Lamb</a>
</div>
<a UTCms='1448872777000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#565c0b44ab19a1e8b500069f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi,<br>
Can pyfolio be fed with a simple list of transactions? I&#39;m amazed by the amount of interesting information it produces and would like to use it to analyze my own portfolio from the past 3 years. I&#39;ve been trading manually according to no fixed strategy, but I do have a list of all transactions.</p>

<p>Thanks,<br>
Dave  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5660460deb21b902bf000160' id='5660460deb21b902bf000160'>
<a href='new-feature-comprehensive-backtest-analysis.html#5660460deb21b902bf000160'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/525bc0ee7ace0dc6db000113'><img alt="73ff156e6f6dad3b1b0e34c03bcf473a?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1449149969000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#5660460deb21b902bf000160'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I wonder whether recent changes in zipline may have altered things?  In the research environment I tried to access my Q IDE generate backtest in the approved manner:  </p>

<pre><code># Get backtest object  
bt = get_backtest(&#39;xxxxxxxxxxxxxxxxx&#39;)

# Create all tear sheets  
bt.create_full_tear_sheet()  
</code></pre>

<p>and got the following error messages in my on-line research environment iPython Notebook:</p>

<pre><code>100% Time: 0:00:44|###########################################################|  
Entire data start date: 2003-01-06  
Entire data end date: 2015-11-16


Backtest Months: 154  
                   Backtest  
annual_return          0.08  
annual_volatility      0.11  
sharpe_ratio           0.79  
calmar_ratio           0.39  
stability              0.94  
max_drawdown          -0.22  
omega_ratio            1.14  
sortino_ratio          1.10  
information_ratio       NaN  
skewness              -0.42  
kurtosis               2.04  
alpha                  0.05  
beta                   0.37  
---------------------------------------------------------------------------  
TypeError                                 Traceback (most recent call last)  
&lt;ipython-input-5-5f6916bf2a08&gt; in &lt;module&gt;()  
      3  
      4 # Create all tear sheets  
----> 5 bt.create_full_tear_sheet()

/home/qexec/src/qexec_repo/qexec/research/results.py in create_full_tear_sheet(self, benchmark_rets, live_start_date, bayesian, hide_positions, cone_std)
    867             bayesian=bayesian,  
    868             hide_positions=hide_positions,  
--> 869             cone_std=cone_std  
    870         )

/usr/local/lib/python2.7/dist-packages/pyfolio/tears.pyc in create_full_tear_sheet(returns, positions, transactions, benchmark_rets, gross_lev, slippage, live_start_date, bayesian, hide_positions, sector_mappings, cone_std, set_context)
    148         cone_std=cone_std,  
    149         benchmark_rets=benchmark_rets,  
--> 150         set_context=set_context)  
    151  
    152     create_interesting_times_tear_sheet(returns,

/usr/local/lib/python2.7/dist-packages/pyfolio/plotting.pyc in call_w_context(*args, **kwargs)
     42         if set_context:  
     43             with context():  
---> 44                 return func(*args, **kwargs)  
     45         else:  
     46             return func(*args, **kwargs)

/usr/local/lib/python2.7/dist-packages/pyfolio/tears.pyc in create_returns_tear_sheet(returns, live_start_date, cone_std, benchmark_rets, return_fig)
    273  
    274     plotting.plot_rolling_beta(  
--> 275         returns, benchmark_rets, ax=ax_rolling_beta)  
    276  
    277     plotting.plot_rolling_sharpe(

/usr/local/lib/python2.7/dist-packages/pyfolio/plotting.pyc in plot_rolling_beta(returns, factor_returns, legend_loc, ax, **kwargs)
    701     ax.yaxis.set_major_formatter(FuncFormatter(y_axis_formatter))  
    702  
--> 703     ax.set_title(&quot;Rolling Portfolio Beta to &quot; + factor_returns.name)  
    704     ax.set_ylabel(&#39;Beta&#39;)  
    705     rb_1 = timeseries.rolling_beta(

TypeError: cannot concatenate &#39;str&#39; and &#39;zipline.assets._assets.Equity&#39; objects


</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5660524feb21b902bf0001b4' id='5660524feb21b902bf0001b4'>
<a href='new-feature-comprehensive-backtest-analysis.html#5660524feb21b902bf0001b4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1449153107000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#5660524feb21b902bf0001b4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Anthony, we&#39;re getting close to fixing this (there were a few issues to resolve). Sorry it&#39;s been broken for so long.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5660b9729753a525580002a4' id='5660b9729753a525580002a4'>
<a href='new-feature-comprehensive-backtest-analysis.html#5660b9729753a525580002a4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/525bc0ee7ace0dc6db000113'><img alt="73ff156e6f6dad3b1b0e34c03bcf473a?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1449179510000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#5660b9729753a525580002a4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Wonderful, thanks Thomas  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5661b551bbc2725ebf0000a5' id='5661b551bbc2725ebf0000a5'>
<a href='new-feature-comprehensive-backtest-analysis.html#5661b551bbc2725ebf0000a5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1449243994000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#5661b551bbc2725ebf0000a5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Anthony: Can you retry?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5661bd2fbbc2725ebf0000df' id='5661bd2fbbc2725ebf0000df'>
<a href='new-feature-comprehensive-backtest-analysis.html#5661bd2fbbc2725ebf0000df'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/539133a0ca9962c7a9000124'><img alt="40fd36f74ef482a61e96f7be42763d65?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/40fd36f74ef482a61e96f7be42763d65?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/539133a0ca9962c7a9000124'>Charles Piché</a>
</div>
<a UTCms='1449246005000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#5661bd2fbbc2725ebf0000df'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I still get many errors here.</p>

<pre><code>/usr/local/lib/python2.7/dist-packages/pyfolio/utils.py:149: UserWarning: Could not update cache /usr/local/lib/python2.7/dist-packages/pyfolio/data/factors.csv.Exception: [Errno 13] Permission denied: &#39;/usr/local/lib/python2.7/dist-packages/pyfolio/data/factors.csv&#39;
  UserWarning)  
---------------------------------------------------------------------------  
KeyError                                  Traceback (most recent call last)  
&lt;ipython-input-1-22f6a207e698&gt; in &lt;module&gt;()  
      3  
      4 # Create all tear sheets  
----> 5 bt.create_full_tear_sheet()

/home/qexec/src/qexec_repo/qexec/research/results.py in create_full_tear_sheet(self, benchmark_rets, live_start_date, bayesian, round_trips, hide_positions, cone_std)
    869             round_trips=round_trips,  
    870             hide_positions=hide_positions,  
--> 871             cone_std=cone_std  
    872         )

/usr/local/lib/python2.7/dist-packages/pyfolio/tears.pyc in create_full_tear_sheet(returns, positions, transactions, benchmark_rets, gross_lev, slippage, live_start_date, sector_mappings, bayesian, round_trips, hide_positions, cone_std, set_context)
    158         cone_std=cone_std,  
    159         benchmark_rets=benchmark_rets,  
--> 160         set_context=set_context)  
    161  
    162     create_interesting_times_tear_sheet(returns,

/usr/local/lib/python2.7/dist-packages/pyfolio/plotting.pyc in call_w_context(*args, **kwargs)
     44         if set_context:  
     45             with context():  
---> 46                 return func(*args, **kwargs)  
     47         else:  
     48             return func(*args, **kwargs)

/usr/local/lib/python2.7/dist-packages/pyfolio/tears.pyc in create_returns_tear_sheet(returns, live_start_date, cone_std, benchmark_rets, return_fig)
    294  
    295     plotting.plot_rolling_fama_french(  
--> 296         returns, ax=ax_rolling_risk)  
    297  
    298     # Drawdowns

/usr/local/lib/python2.7/dist-packages/pyfolio/plotting.pyc in plot_rolling_fama_french(returns, factor_returns, rolling_window, legend_loc, ax, **kwargs)
    147         returns,  
    148         factor_returns=factor_returns,  
--> 149         rolling_window=rolling_window)  
    150  
    151     rolling_beta.plot(alpha=0.7, ax=ax, **kwargs)

/usr/local/lib/python2.7/dist-packages/pyfolio/timeseries.pyc in rolling_fama_french(returns, factor_returns, rolling_window)
    695  
    696     return rolling_beta(returns, factor_returns,  
--> 697                         rolling_window=rolling_window)  
    698  
    699 

/usr/local/lib/python2.7/dist-packages/pyfolio/timeseries.pyc in rolling_beta(returns, factor_returns, rolling_window)
    652         # Apply column-wise  
    653         return factor_returns.apply(partial(rolling_beta, returns),  
--> 654                                     rolling_window=rolling_window)  
    655     else:  
    656         out = pd.Series(index=returns.index)

/usr/local/lib/python2.7/dist-packages/pandas/core/frame.pyc in apply(self, func, axis, broadcast, raw, reduce, args, **kwds)
   3707                     if reduce is None:  
   3708                         reduce = True  
-> 3709                     return self._apply_standard(f, axis, reduce=reduce)  
   3710             else:  
   3711                 return self._apply_broadcast(f, axis)

/usr/local/lib/python2.7/dist-packages/pandas/core/frame.pyc in _apply_standard(self, func, axis, ignore_failures, reduce)
   3797             try:  
   3798                 for i, v in enumerate(series_gen):  
-> 3799                     results[i] = func(v)  
   3800                     keys.append(v.name)  
   3801             except Exception as e:

/usr/local/lib/python2.7/dist-packages/pandas/core/frame.pyc in &lt;lambda&gt;(x)
   3685         axis = self._get_axis_number(axis)  
   3686         if kwds or args and not isinstance(func, np.ufunc):  
-> 3687             f = lambda x: func(x, *args, **kwds)  
   3688         else:  
   3689             f = func

/usr/local/lib/python2.7/dist-packages/pyfolio/timeseries.pyc in rolling_beta(returns, factor_returns, rolling_window)
    659             out.loc[end] = calc_alpha_beta(  
    660                 returns.loc[beg:end],  
--> 661                 factor_returns.loc[beg:end])[1]  
    662  
    663         return out

/usr/local/lib/python2.7/dist-packages/pyfolio/timeseries.pyc in calc_alpha_beta(returns, factor_returns)
    721  
    722     ret_index = returns.index  
--> 723     beta, alpha = sp.stats.linregress(factor_returns.loc[ret_index].values,  
    724                                       returns.values)[:2]  
    725 

/usr/local/lib/python2.7/dist-packages/pandas/core/indexing.pyc in __getitem__(self, key)
   1178             return self._getitem_tuple(key)  
   1179         else:  
-> 1180             return self._getitem_axis(key, axis=0)  
   1181  
   1182     def _getitem_axis(self, key, axis=0):

/usr/local/lib/python2.7/dist-packages/pandas/core/indexing.pyc in _getitem_axis(self, key, axis)
   1312                     raise ValueError(&#39;Cannot index with multidimensional key&#39;)  
   1313  
-> 1314                 return self._getitem_iterable(key, axis=axis)  
   1315  
   1316             # nested tuple slicing

/usr/local/lib/python2.7/dist-packages/pandas/core/indexing.pyc in _getitem_iterable(self, key, axis)
    922     def _getitem_iterable(self, key, axis=0):  
    923         if self._should_validate_iterable(axis):  
--> 924             self._has_valid_type(key, axis)  
    925  
    926         labels = self.obj._get_axis(axis)

/usr/local/lib/python2.7/dist-packages/pandas/core/indexing.pyc in _has_valid_type(self, key, axis)
   1260  
   1261                 raise KeyError(&quot;None of [%s] are in the [%s]&quot; %  
-> 1262                                (key, self.obj._get_axis_name(axis)))  
   1263  
   1264             return True

KeyError: (&quot;None of [DatetimeIndex([&#39;2002-04-04&#39;, &#39;2002-04-05&#39;, &#39;2002-04-08&#39;, &#39;2002-04-09&#39;,\n               &#39;2002-04-10&#39;, &#39;2002-04-11&#39;, &#39;2002-04-12&#39;, &#39;2002-04-15&#39;,\n               &#39;2002-04-16&#39;, &#39;2002-04-17&#39;, \n               ...\n               &#39;2002-09-19&#39;, &#39;2002-09-20&#39;, &#39;2002-09-23&#39;, &#39;2002-09-24&#39;,\n               &#39;2002-09-25&#39;, &#39;2002-09-26&#39;, &#39;2002-09-27&#39;, &#39;2002-09-30&#39;,\n               &#39;2002-10-01&#39;, &#39;2002-10-02&#39;],\n              dtype=&#39;datetime64[ns]&#39;, length=127, freq=None, tz=&#39;UTC&#39;)] are in the [index]&quot;, u&#39;occurred at index SMB&#39;)  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5661bd8e41856c911b000009' id='5661bd8e41856c911b000009'>
<a href='new-feature-comprehensive-backtest-analysis.html#5661bd8e41856c911b000009'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1449246099000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#5661bd8e41856c911b000009'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>OK, I&#39;ve been seeing that one too. We&#39;re investigating.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5661d559d549dde5a10008c1' id='5661d559d549dde5a10008c1'>
<a href='new-feature-comprehensive-backtest-analysis.html#5661d559d549dde5a10008c1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/525bc0ee7ace0dc6db000113'><img alt="73ff156e6f6dad3b1b0e34c03bcf473a?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1449252188000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#5661d559d549dde5a10008c1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thomas<br>
I&#39;m afraid not......  </p>

<pre><code>
100% Time: 0:00:46|###########################################################|  
Entire data start date: 2003-01-06  
Entire data end date: 2015-11-16


Backtest Months: 154  
                   Backtest  
annual_return          0.08  
annual_volatility      0.11  
sharpe_ratio           0.79  
calmar_ratio           0.39  
stability              0.94  
max_drawdown          -0.22  
omega_ratio            1.14  
sortino_ratio          1.10  
skewness              -0.42  
kurtosis               2.04  
information_ratio      0.00  
alpha                  0.05  
beta                   0.37  
/usr/local/lib/python2.7/dist-packages/pyfolio/utils.py:149: UserWarning: Could not update cache /usr/local/lib/python2.7/dist-packages/pyfolio/data/factors.csv.Exception: [Errno 13] Permission denied: &#39;/usr/local/lib/python2.7/dist-packages/pyfolio/data/factors.csv&#39;
  UserWarning)  
---------------------------------------------------------------------------  
KeyError                                  Traceback (most recent call last)  
&lt;ipython-input-1-5f6916bf2a08&gt; in &lt;module&gt;()  
      3  
      4 # Create all tear sheets  
----> 5 bt.create_full_tear_sheet()

/home/qexec/src/qexec_repo/qexec/research/results.py in create_full_tear_sheet(self, benchmark_rets, live_start_date, bayesian, round_trips, hide_positions, cone_std)
    869             round_trips=round_trips,  
    870             hide_positions=hide_positions,  
--> 871             cone_std=cone_std  
    872         )

/usr/local/lib/python2.7/dist-packages/pyfolio/tears.pyc in create_full_tear_sheet(returns, positions, transactions, benchmark_rets, gross_lev, slippage, live_start_date, sector_mappings, bayesian, round_trips, hide_positions, cone_std, set_context)
    158         cone_std=cone_std,  
    159         benchmark_rets=benchmark_rets,  
--> 160         set_context=set_context)  
    161  
    162     create_interesting_times_tear_sheet(returns,

/usr/local/lib/python2.7/dist-packages/pyfolio/plotting.pyc in call_w_context(*args, **kwargs)
     44         if set_context:  
     45             with context():  
---> 46                 return func(*args, **kwargs)  
     47         else:  
     48             return func(*args, **kwargs)

/usr/local/lib/python2.7/dist-packages/pyfolio/tears.pyc in create_returns_tear_sheet(returns, live_start_date, cone_std, benchmark_rets, return_fig)
    294  
    295     plotting.plot_rolling_fama_french(  
--> 296         returns, ax=ax_rolling_risk)  
    297  
    298     # Drawdowns

/usr/local/lib/python2.7/dist-packages/pyfolio/plotting.pyc in plot_rolling_fama_french(returns, factor_returns, rolling_window, legend_loc, ax, **kwargs)
    147         returns,  
    148         factor_returns=factor_returns,  
--> 149         rolling_window=rolling_window)  
    150  
    151     rolling_beta.plot(alpha=0.7, ax=ax, **kwargs)

/usr/local/lib/python2.7/dist-packages/pyfolio/timeseries.pyc in rolling_fama_french(returns, factor_returns, rolling_window)
    695  
    696     return rolling_beta(returns, factor_returns,  
--> 697                         rolling_window=rolling_window)  
    698  
    699 

/usr/local/lib/python2.7/dist-packages/pyfolio/timeseries.pyc in rolling_beta(returns, factor_returns, rolling_window)
    652         # Apply column-wise  
    653         return factor_returns.apply(partial(rolling_beta, returns),  
--> 654                                     rolling_window=rolling_window)  
    655     else:  
    656         out = pd.Series(index=returns.index)

/usr/local/lib/python2.7/dist-packages/pandas/core/frame.pyc in apply(self, func, axis, broadcast, raw, reduce, args, **kwds)
   3707                     if reduce is None:  
   3708                         reduce = True  
-> 3709                     return self._apply_standard(f, axis, reduce=reduce)  
   3710             else:  
   3711                 return self._apply_broadcast(f, axis)

/usr/local/lib/python2.7/dist-packages/pandas/core/frame.pyc in _apply_standard(self, func, axis, ignore_failures, reduce)
   3797             try:  
   3798                 for i, v in enumerate(series_gen):  
-> 3799                     results[i] = func(v)  
   3800                     keys.append(v.name)  
   3801             except Exception as e:

/usr/local/lib/python2.7/dist-packages/pandas/core/frame.pyc in &lt;lambda&gt;(x)
   3685         axis = self._get_axis_number(axis)  
   3686         if kwds or args and not isinstance(func, np.ufunc):  
-> 3687             f = lambda x: func(x, *args, **kwds)  
   3688         else:  
   3689             f = func

/usr/local/lib/python2.7/dist-packages/pyfolio/timeseries.pyc in rolling_beta(returns, factor_returns, rolling_window)
    659             out.loc[end] = calc_alpha_beta(  
    660                 returns.loc[beg:end],  
--> 661                 factor_returns.loc[beg:end])[1]  
    662  
    663         return out

/usr/local/lib/python2.7/dist-packages/pyfolio/timeseries.pyc in calc_alpha_beta(returns, factor_returns)
    721  
    722     ret_index = returns.index  
--> 723     beta, alpha = sp.stats.linregress(factor_returns.loc[ret_index].values,  
    724                                       returns.values)[:2]  
    725 

/usr/local/lib/python2.7/dist-packages/pandas/core/indexing.pyc in __getitem__(self, key)
   1178             return self._getitem_tuple(key)  
   1179         else:  
-> 1180             return self._getitem_axis(key, axis=0)  
   1181  
   1182     def _getitem_axis(self, key, axis=0):

/usr/local/lib/python2.7/dist-packages/pandas/core/indexing.pyc in _getitem_axis(self, key, axis)
   1312                     raise ValueError(&#39;Cannot index with multidimensional key&#39;)  
   1313  
-> 1314                 return self._getitem_iterable(key, axis=axis)  
   1315  
   1316             # nested tuple slicing

/usr/local/lib/python2.7/dist-packages/pandas/core/indexing.pyc in _getitem_iterable(self, key, axis)
    922     def _getitem_iterable(self, key, axis=0):  
    923         if self._should_validate_iterable(axis):  
--> 924             self._has_valid_type(key, axis)  
    925  
    926         labels = self.obj._get_axis(axis)

/usr/local/lib/python2.7/dist-packages/pandas/core/indexing.pyc in _has_valid_type(self, key, axis)
   1260  
   1261                 raise KeyError(&quot;None of [%s] are in the [%s]&quot; %  
-> 1262                                (key, self.obj._get_axis_name(axis)))  
   1263  
   1264             return True

KeyError: (&quot;None of [DatetimeIndex([&#39;2003-01-06&#39;, &#39;2003-01-07&#39;, &#39;2003-01-08&#39;, &#39;2003-01-09&#39;,\n               &#39;2003-01-10&#39;, &#39;2003-01-13&#39;, &#39;2003-01-14&#39;, &#39;2003-01-15&#39;,\n               &#39;2003-01-16&#39;, &#39;2003-01-17&#39;, \n               ...\n               &#39;2003-06-24&#39;, &#39;2003-06-25&#39;, &#39;2003-06-26&#39;, &#39;2003-06-27&#39;,\n               &#39;2003-06-30&#39;, &#39;2003-07-01&#39;, &#39;2003-07-02&#39;, &#39;2003-07-03&#39;,\n               &#39;2003-07-07&#39;, &#39;2003-07-08&#39;],\n              dtype=&#39;datetime64[ns]&#39;, length=127, freq=None, tz=&#39;UTC&#39;)] are in the [index]&quot;, u&#39;occurred at index SMB&#39;)

</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5661d5914908f1f0ab00007f' id='5661d5914908f1f0ab00007f'>
<a href='new-feature-comprehensive-backtest-analysis.html#5661d5914908f1f0ab00007f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/525bc0ee7ace0dc6db000113'><img alt="73ff156e6f6dad3b1b0e34c03bcf473a?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1449252246000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#5661d5914908f1f0ab00007f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>If it helps (probably not!) I ran it over exactly the same back test.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5664c2c9bcba9fb2fc0006f6' id='5664c2c9bcba9fb2fc0006f6'>
<a href='new-feature-comprehensive-backtest-analysis.html#5664c2c9bcba9fb2fc0006f6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/52b0e0e0271a27fc88000049'><img alt="E5451406e743420c700eb2b054b2fc57?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/52b0e0e0271a27fc88000049'>garyha</a>
</div>
<a UTCms='1449444045000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#5664c2c9bcba9fb2fc0006f6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Would like an example running one part only such as Underwater Plot (focused quick compare of several algos).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='566578562a520773ce0000c1' id='566578562a520773ce0000c1'>
<a href='new-feature-comprehensive-backtest-analysis.html#566578562a520773ce0000c1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1449490525000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#566578562a520773ce0000c1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>garyha, see the attached notebook. It doesn&#39;t include the comparison yet which is something we still have to work out.  </p>
</div>
<div class='nb-preview-widget' data-post_id='566578562a520773ce0000c1'>
<div class='align-right' id='preview-buttons'>
<button class='btn btn-default full-notebook-button'>View Notebook</button>
</div>
<div class='nb-preview-area'>
<div class='progress-area fade in'>
<div class='progress-container'>
<div class='progress-title'>
<i class='icon icon-spinner icon-spin icon-large'></i>
<span>Loading notebook preview...</span>
</div>
</div>
</div>
<div class='error-area fade'>
<div class='error-container'>
Notebook previews are currently unavailable.
</div>
</div>
<div class='nb-preview-wrapper fade'>
<iframe class='nb-preview-iframe preview-iframe' src='https://notebooks-prod.herokuapp.com/previews?key=4f1edd0b03b228000d000001%2F1647227c-af62-4b1f-8e7e-79977c92312b%2Fpreview.html&vf=false'></iframe>
</div>
</div>
<div class='fade modal full-notebook-modal' role='dialog'>
<div class='nb-reader-navbar navbar navbar-default new-style'>
<div class='container-fluid'>
<div class='navbar-header'>
<div class='navbar-text avatar-container pull-left'>
<img class='avatar-small' src='https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png&s=30'>
</div>
<div class='navbar-text post-subtitle-text'>
<a class='gray user-link' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
<span>shared this notebook</span>
<span UTCms='1449490525000' class='quanto-date' data-lowercase='1'></span>
<span class='view-count visible-xs-inline-block'></span>
</div>
</div>
<div class='collapse navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li>
<a class='close-link' data-dismiss='modal'>
<span>
&times
</span>
</a>
</li>
</ul>
</div>
</div>
</div>
<div class='empty-backdrop'></div>
<div class='modal-dialog container'>
<div class='modal-content'>
<div class='modal-body'>
<div class='modal-area'>
<iframe class='full-notebook-iframe preview-iframe' src='https://notebooks-prod.herokuapp.com/previews?key=4f1edd0b03b228000d000001%2F1647227c-af62-4b1f-8e7e-79977c92312b%2Fpreview.html&vf=true'></iframe>
</div>
</div>
</div>
</div>
</div>

</div>

</div>
</div>

<div class='post-container response-container' data-post-id='56660f633446741fa7000381' id='56660f633446741fa7000381'>
<a href='new-feature-comprehensive-backtest-analysis.html#56660f633446741fa7000381'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/52b0e0e0271a27fc88000049'><img alt="E5451406e743420c700eb2b054b2fc57?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/52b0e0e0271a27fc88000049'>garyha</a>
</div>
<a UTCms='1449529191000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56660f633446741fa7000381'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Perfect, appreciated.</p>

<p>To summarize the commands in case it might help someone in a search, example for running individual plotting elements of a tearsheet:</p>

<p>backtest = get_backtest(&#39;5627b09e3dfd591120ebdc71&#39;)<br>
import pyfolio as pf<br>
pf.plotting.plot_drawdown_periods(backtest.daily_performance.returns)<br>
pf.plotting.plot_drawdown_underwater(backtest.daily_performance.returns)</p>

<p>I think it means the pattern might work for all of these:<br>
plot_annual_returns()<br>
plot_drawdown_periods()<br>
plot_drawdown_underwater()<br>
plot_holdings()<br>
plot_monthly_returns_dist()<br>
plot_monthly_returns_heatmap()<br>
plot_monthly_returns_timeseries()<br>
plot_rolling_sharpe()<br>
show_worst_drawdown_periods()</p>

<p>(For others, there would be some additional required arguments that could surely also be accessed).</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56684954c8c0cda0ac000028' id='56684954c8c0cda0ac000028'>
<a href='new-feature-comprehensive-backtest-analysis.html#56684954c8c0cda0ac000028'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1449675103000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56684954c8c0cda0ac000028'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yes, that&#39;s exactly right. Some analyses require positions and/or transactions which can be found in <code>backtest.positions</code> and <code>backtest.transactions</code>.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='566890af36e7402b2a000271' id='566890af36e7402b2a000271'>
<a href='new-feature-comprehensive-backtest-analysis.html#566890af36e7402b2a000271'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/55cc57803e11597f8a000445'><img alt="014ddd39eb4734261ac115cc7e21ed16?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/014ddd39eb4734261ac115cc7e21ed16?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/55cc57803e11597f8a000445'>harvey wang</a>
</div>
<a UTCms='1449693365000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#566890af36e7402b2a000271'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Amazing!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='568009ee238caac5c0000112' id='568009ee238caac5c0000112'>
<a href='new-feature-comprehensive-backtest-analysis.html#568009ee238caac5c0000112'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/55d3c9536fe8237b890004c2'><img alt="9e9eecd8349e308bd0281c7a0d86a00a?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/9e9eecd8349e308bd0281c7a0d86a00a?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/55d3c9536fe8237b890004c2'>Albert Opoku</a>
</div>
<a UTCms='1451231730000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#568009ee238caac5c0000112'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi, this is a great work!<br>
Is it possible to limit the period of data to say 12 months? E.g when you want to look at a mutual fund performance in a local environment using pyfolio?<br>
I am curious if instead of looking at multiple years performance, you can just look at one year period.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5680627f238caa4aa900036a' id='5680627f238caa4aa900036a'>
<a href='new-feature-comprehensive-backtest-analysis.html#5680627f238caa4aa900036a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/512ad4c2e79ac33d9c0000cb'><img alt="171bfddace1cb03c836e2f6054f1b9c8?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/171bfddace1cb03c836e2f6054f1b9c8?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/512ad4c2e79ac33d9c0000cb'>Lionel</a>
</div>
<a UTCms='1451254404000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#5680627f238caa4aa900036a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>still doesn&#39;t work for long term backtest analysis .  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5682b844403d0b0060000084' id='5682b844403d0b0060000084'>
<a href='new-feature-comprehensive-backtest-analysis.html#5682b844403d0b0060000084'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/539133a0ca9962c7a9000124'><img alt="40fd36f74ef482a61e96f7be42763d65?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/40fd36f74ef482a61e96f7be42763d65?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/539133a0ca9962c7a9000124'>Charles Piché</a>
</div>
<a UTCms='1451407434000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#5682b844403d0b0060000084'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Any update on this? The full analysis still generates errors. I miss this tool!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='568d3004478133cf3b0000ac' id='568d3004478133cf3b0000ac'>
<a href='new-feature-comprehensive-backtest-analysis.html#568d3004478133cf3b0000ac'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1452093455000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#568d3004478133cf3b0000ac'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>OK, pyfolio should be fixed and updated in research. Sorry this took a while! Can someone try and report back if it&#39;s working or not?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='568d332bb38df309cf0006f0' id='568d332bb38df309cf0006f0'>
<a href='new-feature-comprehensive-backtest-analysis.html#568d332bb38df309cf0006f0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/539133a0ca9962c7a9000124'><img alt="40fd36f74ef482a61e96f7be42763d65?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/40fd36f74ef482a61e96f7be42763d65?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/539133a0ca9962c7a9000124'>Charles Piché</a>
</div>
<a UTCms='1452094256000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#568d332bb38df309cf0006f0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It&#39;s working! Thank you very much.</p>

<p>The Bayesian analysis tearsheet doesn&#39;t seem to update however.</p>

<p>EDIT: The Bayesian analysis is working now. Cool!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='568d362914a8aeeb40000262' id='568d362914a8aeeb40000262'>
<a href='new-feature-comprehensive-backtest-analysis.html#568d362914a8aeeb40000262'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1452095023000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#568d362914a8aeeb40000262'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for reporting back, Charles. Glad it&#39;s working.</p>

<p>This is now release 0.4. You can see here what new features we added to pyfolio: <a href="http://quantopian.github.io/pyfolio/whatsnew/#v040-dec-10-2015">http://quantopian.github.io/pyfolio/whatsnew/#v040-dec-10-2015</a> Unfortunately, there&#39;s still a problem with the round-trip analysis on research. I have a fix but it could still be a little while until it makes it to production.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='569410117855e2420f000168' id='569410117855e2420f000168'>
<a href='new-feature-comprehensive-backtest-analysis.html#569410117855e2420f000168'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/568c40dc2893501027000141'><img alt="A473925c8952d133ba81f58b5c0bfe6c?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/a473925c8952d133ba81f58b5c0bfe6c?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/568c40dc2893501027000141'>Esteban Zuluaga</a>
</div>
<a UTCms='1452544027000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#569410117855e2420f000168'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi, tried to import .csv returns data but got the following error: <strong>Cannot compare tz-naive and tz-aware timestamps</strong><br>
my data index is:<br>
DatetimeIndex([&#39;2013-06-18&#39;, &#39;2013-06-19&#39;, &#39;2013-06-20&#39;, &#39;2013-06-21&#39;,<br>
               &#39;2013-06-24&#39;, &#39;2013-06-25&#39;, &#39;2013-06-26&#39;, &#39;2013-06-27&#39;,<br>
               &#39;2013-06-28&#39;, &#39;2013-07-01&#39;,<br>
               ...<br>
               &#39;2015-12-02&#39;, &#39;2015-12-03&#39;, &#39;2015-12-04&#39;, &#39;2015-12-07&#39;,<br>
               &#39;2015-12-08&#39;, &#39;2015-12-09&#39;, &#39;2015-12-10&#39;, &#39;2015-12-11&#39;,<br>
               &#39;2015-12-14&#39;, &#39;2015-12-15&#39;],<br>
              dtype=&#39;datetime64[ns]&#39;, name=u&#39;DATE&#39;, length=651, freq=None)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56941210e2b503b6b10001a9' id='56941210e2b503b6b10001a9'>
<a href='new-feature-comprehensive-backtest-analysis.html#56941210e2b503b6b10001a9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/546bb8c0f3659f707e0005cf'><img alt="8c5afd67ab791d299fbb75e6cfc257fc?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/8c5afd67ab791d299fbb75e6cfc257fc?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/546bb8c0f3659f707e0005cf'>Justin Lent</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1452544533000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56941210e2b503b6b10001a9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Esteban,<br>
This snippet of code has helped get my imported returns series working well with pyfolio</p>

<pre><code># import my returns  
returns = pandas.read_csv(&#39;myfile.csv&#39;)

returns.index = returns.index.normalize()  
if returns.index.tzinfo is None:  
    returns.index = returns.index.tz_localize(&#39;UTC&#39;)  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='569412d7063abd16ea000149' id='569412d7063abd16ea000149'>
<a href='new-feature-comprehensive-backtest-analysis.html#569412d7063abd16ea000149'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/568c40dc2893501027000141'><img alt="A473925c8952d133ba81f58b5c0bfe6c?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/a473925c8952d133ba81f58b5c0bfe6c?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/568c40dc2893501027000141'>Esteban Zuluaga</a>
</div>
<a UTCms='1452544733000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#569412d7063abd16ea000149'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Great, tks Justin. had just found out the same!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5694d30bfed63315ae000024' id='5694d30bfed63315ae000024'>
<a href='new-feature-comprehensive-backtest-analysis.html#5694d30bfed63315ae000024'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/568c40dc2893501027000141'><img alt="A473925c8952d133ba81f58b5c0bfe6c?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/a473925c8952d133ba81f58b5c0bfe6c?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/568c40dc2893501027000141'>Esteban Zuluaga</a>
</div>
<a UTCms='1452593935000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#5694d30bfed63315ae000024'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>any link I might find documentation?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5694e203e4286a6f90000167' id='5694e203e4286a6f90000167'>
<a href='new-feature-comprehensive-backtest-analysis.html#5694e203e4286a6f90000167'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/568c40dc2893501027000141'><img alt="A473925c8952d133ba81f58b5c0bfe6c?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/a473925c8952d133ba81f58b5c0bfe6c?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/568c40dc2893501027000141'>Esteban Zuluaga</a>
</div>
<a UTCms='1452597767000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#5694e203e4286a6f90000167'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m trying to run the Rolling Fama-French analysis on a .csv returns file but all charts are returned empty. any idea why this might happen?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='569577118afb4730a5000189' id='569577118afb4730a5000189'>
<a href='new-feature-comprehensive-backtest-analysis.html#569577118afb4730a5000189'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1452635924000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#569577118afb4730a5000189'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Esteban: Can you open an issue on our tracker with some more information: <a href="https://github.com/quantopian/pyfolio/issues">https://github.com/quantopian/pyfolio/issues</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56a8934f953826d4f6000276' id='56a8934f953826d4f6000276'>
<a href='new-feature-comprehensive-backtest-analysis.html#56a8934f953826d4f6000276'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/52b0e0e0271a27fc88000049'><img alt="E5451406e743420c700eb2b054b2fc57?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/52b0e0e0271a27fc88000049'>garyha</a>
</div>
<a UTCms='1453888340000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56a8934f953826d4f6000276'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>EZ: It can take awhile, the indication of busy working is the asterisk next to the cell, like ... In [*]: ... and turns back to a number again when done.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56a9489752bcac583b000139' id='56a9489752bcac583b000139'>
<a href='new-feature-comprehensive-backtest-analysis.html#56a9489752bcac583b000139'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/518adef0ac9d8e67a000000a'><img alt="2114608fe0c1969868c3db6b76e511d1?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/2114608fe0c1969868c3db6b76e511d1?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/518adef0ac9d8e67a000000a'>Michael Van Kleeck</a>
</div>
<a UTCms='1453934750000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56a9489752bcac583b000139'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thomas, when do you think the round-trip fix will be available in research?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56aa05ed680868d2470008bb' id='56aa05ed680868d2470008bb'>
<a href='new-feature-comprehensive-backtest-analysis.html#56aa05ed680868d2470008bb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1453983219000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56aa05ed680868d2470008bb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Michael, it&#39;s hard to say unfortunately but I&#39;ll see if there&#39;s a way to speed up the process.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56aa0d7e68086842830008f5' id='56aa0d7e68086842830008f5'>
<a href='new-feature-comprehensive-backtest-analysis.html#56aa0d7e68086842830008f5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1453985156000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56aa0d7e68086842830008f5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Michael, until we fix it, I created a NB that does the next generation of this analysis stand-alone: <a href="https://www.quantopian.com/posts/round-trip-trade-analysis">https://www.quantopian.com/posts/round-trip-trade-analysis</a> Hope it&#39;s useful!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56aa1c3552bcac3e57000138' id='56aa1c3552bcac3e57000138'>
<a href='new-feature-comprehensive-backtest-analysis.html#56aa1c3552bcac3e57000138'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/54d998ec279df500d500019b'><img alt="A36bb804087e59485f5328c7df6343e2?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/a36bb804087e59485f5328c7df6343e2?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/54d998ec279df500d500019b'>John Jay Buchtel</a>
</div>
<a UTCms='1453988921000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56aa1c3552bcac3e57000138'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am hoping to see Profit by Symbol Traded, and Days Held by Symbol. When do you think these might be included as runs under the Top Securities Held section? I understand this request is in the Que. Thank you!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56aa1e62502b1f5912000966' id='56aa1e62502b1f5912000966'>
<a href='new-feature-comprehensive-backtest-analysis.html#56aa1e62502b1f5912000966'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1453989480000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56aa1e62502b1f5912000966'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John, I responded over in <a href="https://www.quantopian.com/posts/round-trip-trade-analysis">https://www.quantopian.com/posts/round-trip-trade-analysis</a>.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56aa43d05fbb25cdfe00004f' id='56aa43d05fbb25cdfe00004f'>
<a href='new-feature-comprehensive-backtest-analysis.html#56aa43d05fbb25cdfe00004f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/518adef0ac9d8e67a000000a'><img alt="2114608fe0c1969868c3db6b76e511d1?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/2114608fe0c1969868c3db6b76e511d1?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/518adef0ac9d8e67a000000a'>Michael Van Kleeck</a>
</div>
<a UTCms='1453999062000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56aa43d05fbb25cdfe00004f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The new round-trip notebook looks great, Thomas -- thank you!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56d31363f8e5da1049000812' id='56d31363f8e5da1049000812'>
<a href='new-feature-comprehensive-backtest-analysis.html#56d31363f8e5da1049000812'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/54d998ec279df500d500019b'><img alt="A36bb804087e59485f5328c7df6343e2?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/a36bb804087e59485f5328c7df6343e2?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/54d998ec279df500d500019b'>John Jay Buchtel</a>
</div>
<a UTCms='1456673638000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56d31363f8e5da1049000812'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am suddenly getting error messages, which follow, in the Bayesian section of tearsheet output. If you could help me debug this I would appreciate that very much. The sheet produces reports up to the Bayesian graphs, so I know the ID is working.</p>

<p>Thank you!</p>

<p>I use the following cell code: bt = get_backtest(&#39;...my backtest ID&#39;)<br>
bt.create_full_tear_sheet(bayesian=True, live_start_date=&#39;2015-1-1&#39;)</p>

<h2>John Jay  </h2>

<h1>Running T model  </h1>

<h1></h1>

<p>collect2: fatal error: cannot find &#39;ld&#39;<br>
compilation terminated.</p>

<p>00001   #include<br>
00002   #include<br>
00003   #include &quot;theano_mod_helper.h&quot;<br>
00004   #include<br>
00005   #include<br>
00006   #include<br>
00007   #include<br>
00008   #include<br>
00009   //////////////////////<br>
00010   ////  Support Code<br>
00011   //////////////////////<br>
00012<br>
00013<br>
00014       namespace {<br>
00015       struct <strong>struct_compiled_op_8251ea1b4836b28fc8365dcfb7aefbef {<br>
00016           PyObject* __ERROR;<br>
00017<br>
00018           PyObject* storage_V3;<br>
00019   PyObject* storage_V5;<br>
00020   PyObject* storage_V1;<br>
00021<br>
00022<br>
00023           __struct_compiled_op_8251ea1b4836b28fc8365dcfb7aefbef() {<br>
00024               // This is only somewhat safe because we:<br>
00025               //  1) Are not a virtual class<br>
00026               //  2) Do not use any virtual classes in the members<br>
00027               //  3) Deal with mostly POD and pointers<br>
00028<br>
00029               // If this changes, we would have to revise this, but for<br>
00030               // now I am tired of chasing segfaults because<br>
00031               // initialization code had an error and some pointer has<br>
00032               // a junk value.<br>
00033               memset(this, 0, sizeof(*this));<br>
00034           }<br>
00035           ~</strong>struct_compiled_op_8251ea1b4836b28fc8365dcfb7aefbef(void) {<br>
00036               cleanup();<br>
00037           }<br>
00038<br>
00039           int init(PyObject* <strong>ERROR, PyObject* storage_V3, PyObject* storage_V5, PyObject* storage_V1) {<br>
00040               Py_XINCREF(storage_V3);<br>
00041   Py_XINCREF(storage_V5);<br>
00042   Py_XINCREF(storage_V1);<br>
00043               this->storage_V3 = storage_V3;<br>
00044   this->storage_V5 = storage_V5;<br>
00045   this->storage_V1 = storage_V1;<br>
00046<br>
00047<br>
00048<br>
00049<br>
00050<br>
00051               this-></strong>ERROR = <strong>ERROR;<br>
00052               return 0;<br>
00053           }<br>
00054           void cleanup(void) {<br>
00055               __label_1:<br>
00056<br>
00057   double __DUMMY_1;<br>
00058   __label_3:<br>
00059<br>
00060   double __DUMMY_3;<br>
00061   __label_5:<br>
00062<br>
00063   double __DUMMY_5;<br>
00064   __label_8:<br>
00065<br>
00066   double __DUMMY_8;<br>
00067<br>
00068               Py_XDECREF(this->storage_V3);<br>
00069   Py_XDECREF(this->storage_V5);<br>
00070   Py_XDECREF(this->storage_V1);<br>
00071           }<br>
00072           int run(void) {<br>
00073               int __failure = 0;<br>
00074<br>
00075       PyObject* py_V1;<br>
00076<br>
00077           PyArrayObject* V1;<br>
00078<br>
00079               typedef npy_float64 dtype_V1;<br>
00080<br>
00081       PyObject* py_V3;<br>
00082<br>
00083           PyArrayObject* V3;<br>
00084<br>
00085               typedef npy_float64 dtype_V3;<br>
00086<br>
00087       PyObject* py_V5;<br>
00088<br>
00089           PyArrayObject* V5;<br>
00090<br>
00091               typedef npy_int8 dtype_V5;<br>
00092<br>
00093   {<br>
00094<br>
00095       py_V1 = PyList_GET_ITEM(storage_V1, 0);<br>
00096       {Py_XINCREF(py_V1);}<br>
00097<br>
00098           if (py_V1 == Py_None)<br>
00099           {<br>
00100<br>
00101           V1 = NULL;<br>
00102<br>
00103           }<br>
00104           else<br>
00105           {<br>
00106<br>
00107               V1 = NULL;<br>
00108               if (py_V1 == Py_None) {<br>
00109                   // We can either fail here or set V1 to NULL and rely on Ops<br>
00110                   // using tensors to handle the NULL case, but if they fail to do so<br>
00111                   // they&#39;ll end up with nasty segfaults, so this is public service.<br>
00112                   PyErr_SetString(PyExc_ValueError, &quot;expected an ndarray, not None&quot;);<br>
00113                   {<br>
00114           __failure = 2;<br>
00115           if (!PyErr_Occurred()) {<br>
00116               PyErr_SetString(PyExc_RuntimeError,<br>
00117                   &quot;Unexpected error in an Op&#39;s C code. &quot;<br>
00118                   &quot;No Python exception was set.&quot;);<br>
00119               }<br>
00120           goto __label_2;}<br>
00121               }<br>
00122               if (!PyArray_Check(py_V1)) {<br>
00123                   PyErr_SetString(PyExc_ValueError, &quot;expected an ndarray&quot;);<br>
00124                   {<br>
00125           __failure = 2;<br>
00126           if (!PyErr_Occurred()) {<br>
00127               PyErr_SetString(PyExc_RuntimeError,<br>
00128                   &quot;Unexpected error in an Op&#39;s C code. &quot;<br>
00129                   &quot;No Python exception was set.&quot;);<br>
00130               }<br>
00131           goto __label_2;}<br>
00132               }<br>
00133               // We expect NPY_FLOAT64<br>
00134               if (!PyArray_ISALIGNED((PyArrayObject*) py_V1)) {<br>
00135                   PyArrayObject * tmp = (PyArrayObject*) py_V1;<br>
00136                   PyErr_Format(PyExc_NotImplementedError,<br>
00137                                &quot;expected an aligned array of type %ld &quot;<br>
00138                                &quot;(NPY_FLOAT64), got non-aligned array of type %ld&quot;<br>
00139                                &quot; with %ld dimensions, with 3 last dims &quot;<br>
00140                                &quot;%ld, %ld, %ld&quot;<br>
00141                                &quot; and 3 last strides %ld %ld, %ld.&quot;,<br>
00142                                (long int) NPY_FLOAT64,<br>
00143                                (long int) PyArray_TYPE((PyArrayObject*) py_V1),<br>
00144                                (long int) PyArray_NDIM(tmp),<br>
00145                                (long int) PyArray_NDIM(tmp) &gt;= 3 ?<br>
00146               PyArray_DIMS(tmp)[PyArray_NDIM(tmp)-3] : -1,<br>
00147                                (long int) PyArray_NDIM(tmp) &gt;= 2 ?<br>
00148               PyArray_DIMS(tmp)[PyArray_NDIM(tmp)-2] : -1,<br>
00149                                (long int) PyArray_NDIM(tmp) &gt;= 1 ?<br>
00150               PyArray_DIMS(tmp)[PyArray_NDIM(tmp)-1] : -1,<br>
00151                                (long int) PyArray_NDIM(tmp) &gt;= 3 ?<br>
00152               PyArray_STRIDES(tmp)[PyArray_NDIM(tmp)-3] : -1,<br>
00153                                (long int) PyArray_NDIM(tmp) &gt;= 2 ?<br>
00154               PyArray_STRIDES(tmp)[PyArray_NDIM(tmp)-2] : -1,<br>
00155                                (long int) PyArray_NDIM(tmp) &gt;= 1 ?<br>
00156               PyArray_STRIDES(tmp)[PyArray_NDIM(tmp)-1] : -1<br>
00157               );<br>
00158                   {<br>
00159           __failure = 2;<br>
00160           if (!PyErr_Occurred()) {<br>
00161               PyErr_SetString(PyExc_RuntimeError,<br>
00162                   &quot;Unexpected error in an Op&#39;s C code. &quot;<br>
00163                   &quot;No Python exception was set.&quot;);<br>
00164               }<br>
00165           goto __label_2;}<br>
00166               }<br>
00167               // This is a TypeError to be consistent with DEBUG_MODE<br>
00168               // Note: DEBUG_MODE also tells the name of the container<br>
00169               if (PyArray_TYPE((PyArrayObject*) py_V1) != NPY_FLOAT64) {<br>
00170                   PyErr_Format(PyExc_TypeError,<br>
00171                                &quot;expected type_num %d (NPY_FLOAT64) got %d&quot;,<br>
00172                                NPY_FLOAT64, PyArray_TYPE((PyArrayObject*) py_V1));<br>
00173                   {<br>
00174           __failure = 2;<br>
00175           if (!PyErr_Occurred()) {<br>
00176               PyErr_SetString(PyExc_RuntimeError,<br>
00177                   &quot;Unexpected error in an Op&#39;s C code. &quot;<br>
00178                   &quot;No Python exception was set.&quot;);<br>
00179               }<br>
00180           goto __label_2;}<br>
00181               }<br>
00182<br>
00183           V1 = (PyArrayObject*)(py_V1);<br>
00184           Py_XINCREF(V1);<br>
00185<br>
00186           }<br>
00187<br>
00188   {<br>
00189<br>
00190       py_V3 = PyList_GET_ITEM(storage_V3, 0);<br>
00191       {Py_XINCREF(py_V3);}<br>
00192<br>
00193               V3 = NULL;<br>
00194               if (py_V3 == Py_None) {<br>
00195                   // We can either fail here or set V3 to NULL and rely on Ops<br>
00196                   // using tensors to handle the NULL case, but if they fail to do so<br>
00197                   // they&#39;ll end up with nasty segfaults, so this is public service.<br>
00198                   PyErr_SetString(PyExc_ValueError, &quot;expected an ndarray, not None&quot;);<br>
00199                   {<br>
00200           __failure = 4;<br>
00201           if (!PyErr_Occurred()) {<br>
00202               PyErr_SetString(PyExc_RuntimeError,<br>
00203                   &quot;Unexpected error in an Op&#39;s C code. &quot;<br>
00204                   &quot;No Python exception was set.&quot;);<br>
00205               }<br>
00206           goto __label_4;}<br>
00207               }<br>
00208               if (!PyArray_Check(py_V3)) {<br>
00209                   PyErr_SetString(PyExc_ValueError, &quot;expected an ndarray&quot;);<br>
00210                   {<br>
00211           __failure = 4;<br>
00212           if (!PyErr_Occurred()) {<br>
00213               PyErr_SetString(PyExc_RuntimeError,<br>
00214                   &quot;Unexpected error in an Op&#39;s C code. &quot;<br>
00215                   &quot;No Python exception was set.&quot;);<br>
00216               }<br>
00217           goto __label_4;}<br>
00218               }<br>
00219               // We expect NPY_FLOAT64<br>
00220               if (!PyArray_ISALIGNED((PyArrayObject*) py_V3)) {<br>
00221                   PyArrayObject * tmp = (PyArrayObject*) py_V3;<br>
00222                   PyErr_Format(PyExc_NotImplementedError,<br>
00223                                &quot;expected an aligned array of type %ld &quot;<br>
00224                                &quot;(NPY_FLOAT64), got non-aligned array of type %ld&quot;<br>
00225                                &quot; with %ld dimensions, with 3 last dims &quot;<br>
00226                                &quot;%ld, %ld, %ld&quot;<br>
00227                                &quot; and 3 last strides %ld %ld, %ld.&quot;,<br>
00228                                (long int) NPY_FLOAT64,<br>
00229                                (long int) PyArray_TYPE((PyArrayObject*) py_V3),<br>
00230                                (long int) PyArray_NDIM(tmp),<br>
00231                                (long int) PyArray_NDIM(tmp) &gt;= 3 ?<br>
00232               PyArray_DIMS(tmp)[PyArray_NDIM(tmp)-3] : -1,<br>
00233                                (long int) PyArray_NDIM(tmp) &gt;= 2 ?<br>
00234               PyArray_DIMS(tmp)[PyArray_NDIM(tmp)-2] : -1,<br>
00235                                (long int) PyArray_NDIM(tmp) &gt;= 1 ?<br>
00236               PyArray_DIMS(tmp)[PyArray_NDIM(tmp)-1] : -1,<br>
00237                                (long int) PyArray_NDIM(tmp) &gt;= 3 ?<br>
00238               PyArray_STRIDES(tmp)[PyArray_NDIM(tmp)-3] : -1,<br>
00239                                (long int) PyArray_NDIM(tmp) &gt;= 2 ?<br>
00240               PyArray_STRIDES(tmp)[PyArray_NDIM(tmp)-2] : -1,<br>
00241                                (long int) PyArray_NDIM(tmp) &gt;= 1 ?<br>
00242               PyArray_STRIDES(tmp)[PyArray_NDIM(tmp)-1] : -1<br>
00243               );<br>
00244                   {<br>
00245           __failure = 4;<br>
00246           if (!PyErr_Occurred()) {<br>
00247               PyErr_SetString(PyExc_RuntimeError,<br>
00248                   &quot;Unexpected error in an Op&#39;s C code. &quot;<br>
00249                   &quot;No Python exception was set.&quot;);<br>
00250               }<br>
00251           goto __label_4;}<br>
00252               }<br>
00253               // This is a TypeError to be consistent with DEBUG_MODE<br>
00254               // Note: DEBUG_MODE also tells the name of the container<br>
00255               if (PyArray_TYPE((PyArrayObject*) py_V3) != NPY_FLOAT64) {<br>
00256                   PyErr_Format(PyExc_TypeError,<br>
00257                                &quot;expected type_num %d (NPY_FLOAT64) got %d&quot;,<br>
00258                                NPY_FLOAT64, PyArray_TYPE((PyArrayObject*) py_V3));<br>
00259                   {<br>
00260           __failure = 4;<br>
00261           if (!PyErr_Occurred()) {<br>
00262               PyErr_SetString(PyExc_RuntimeError,<br>
00263                   &quot;Unexpected error in an Op&#39;s C code. &quot;<br>
00264                   &quot;No Python exception was set.&quot;);<br>
00265               }<br>
00266           goto __label_4;}<br>
00267               }<br>
00268<br>
00269           V3 = (PyArrayObject*)(py_V3);<br>
00270           Py_XINCREF(V3);<br>
00271<br>
00272   {<br>
00273<br>
00274       py_V5 = PyList_GET_ITEM(storage_V5, 0);<br>
00275       {Py_XINCREF(py_V5);}<br>
00276<br>
00277               V5 = NULL;<br>
00278               if (py_V5 == Py_None) {<br>
00279                   // We can either fail here or set V5 to NULL and rely on Ops<br>
00280                   // using tensors to handle the NULL case, but if they fail to do so<br>
00281                   // they&#39;ll end up with nasty segfaults, so this is public service.<br>
00282                   PyErr_SetString(PyExc_ValueError, &quot;expected an ndarray, not None&quot;);<br>
00283                   {<br>
00284           __failure = 6;<br>
00285           if (!PyErr_Occurred()) {<br>
00286               PyErr_SetString(PyExc_RuntimeError,<br>
00287                   &quot;Unexpected error in an Op&#39;s C code. &quot;<br>
00288                   &quot;No Python exception was set.&quot;);<br>
00289               }<br>
00290           goto __label_6;}<br>
00291               }<br>
00292               if (!PyArray_Check(py_V5)) {<br>
00293                   PyErr_SetString(PyExc_ValueError, &quot;expected an ndarray&quot;);<br>
00294                   {<br>
00295           __failure = 6;<br>
00296           if (!PyErr_Occurred()) {<br>
00297               PyErr_SetString(PyExc_RuntimeError,<br>
00298                   &quot;Unexpected error in an Op&#39;s C code. &quot;<br>
00299                   &quot;No Python exception was set.&quot;);<br>
00300               }<br>
00301           goto __label_6;}<br>
00302               }<br>
00303               // We expect NPY_INT8<br>
00304               if (!PyArray_ISALIGNED((PyArrayObject*) py_V5)) {<br>
00305                   PyArrayObject * tmp = (PyArrayObject*) py_V5;<br>
00306                   PyErr_Format(PyExc_NotImplementedError,<br>
00307                                &quot;expected an aligned array of type %ld &quot;<br>
00308                                &quot;(NPY_INT8), got non-aligned array of type %ld&quot;<br>
00309                                &quot; with %ld dimensions, with 3 last dims &quot;<br>
00310                                &quot;%ld, %ld, %ld&quot;<br>
00311                                &quot; and 3 last strides %ld %ld, %ld.&quot;,<br>
00312                                (long int) NPY_INT8,<br>
00313                                (long int) PyArray_TYPE((PyArrayObject*) py_V5),<br>
00314                                (long int) PyArray_NDIM(tmp),<br>
00315                                (long int) PyArray_NDIM(tmp) &gt;= 3 ?<br>
00316               PyArray_DIMS(tmp)[PyArray_NDIM(tmp)-3] : -1,<br>
00317                                (long int) PyArray_NDIM(tmp) &gt;= 2 ?<br>
00318               PyArray_DIMS(tmp)[PyArray_NDIM(tmp)-2] : -1,<br>
00319                                (long int) PyArray_NDIM(tmp) &gt;= 1 ?<br>
00320               PyArray_DIMS(tmp)[PyArray_NDIM(tmp)-1] : -1,<br>
00321                                (long int) PyArray_NDIM(tmp) &gt;= 3 ?<br>
00322               PyArray_STRIDES(tmp)[PyArray_NDIM(tmp)-3] : -1,<br>
00323                                (long int) PyArray_NDIM(tmp) &gt;= 2 ?<br>
00324               PyArray_STRIDES(tmp)[PyArray_NDIM(tmp)-2] : -1,<br>
00325                                (long int) PyArray_NDIM(tmp) &gt;= 1 ?<br>
00326               PyArray_STRIDES(tmp)[PyArray_NDIM(tmp)-1] : -1<br>
00327               );<br>
00328                   {<br>
00329           __failure = 6;<br>
00330           if (!PyErr_Occurred()) {<br>
00331               PyErr_SetString(PyExc_RuntimeError,<br>
00332                   &quot;Unexpected error in an Op&#39;s C code. &quot;<br>
00333                   &quot;No Python exception was set.&quot;);<br>
00334               }<br>
00335           goto __label_6;}<br>
00336               }<br>
00337               // This is a TypeError to be consistent with DEBUG_MODE<br>
00338               // Note: DEBUG_MODE also tells the name of the container<br>
00339               if (PyArray_TYPE((PyArrayObject*) py_V5) != NPY_INT8) {<br>
00340                   PyErr_Format(PyExc_TypeError,<br>
00341                                &quot;expected type_num %d (NPY_INT8) got %d&quot;,<br>
00342                                NPY_INT8, PyArray_TYPE((PyArrayObject*) py_V5));<br>
00343                   {<br>
00344           __failure = 6;<br>
00345           if (!PyErr_Occurred()) {<br>
00346               PyErr_SetString(PyExc_RuntimeError,<br>
00347                   &quot;Unexpected error in an Op&#39;s C code. &quot;<br>
00348                   &quot;No Python exception was set.&quot;);<br>
00349               }<br>
00350           goto __label_6;}<br>
00351               }<br>
00352<br>
00353           V5 = (PyArrayObject*)(py_V5);<br>
00354           Py_XINCREF(V5);<br>
00355<br>
00356   {<br>
00357   // Op class Elemwise<br>
00358<br>
00359           npy_float64* V3_iter;<br>
00360<br>
00361           npy_int8* V5_iter;<br>
00362<br>
00363<br>
00364<br>
00365           npy_float64* V1_iter;<br>
00366<br>
00367       {<br>
00368           npy_intp dims[0];<br>
00369           //npy_intp* dims = (npy_intp*)malloc(0 * sizeof(npy_intp));<br>
00370<br>
00371           if (!V1) {<br>
00372               V1 = (PyArrayObject*)PyArray_EMPTY(0, dims,<br>
00373                                                       NPY_FLOAT64,<br>
00374                                                       0);<br>
00375           }<br>
00376           else {<br>
00377               PyArray_Dims new_dims;<br>
00378               new_dims.len = 0;<br>
00379               new_dims.ptr = dims;<br>
00380               PyObject* success = PyArray_Resize(V1, &amp;new_dims, 0, NPY_CORDER);<br>
00381               if (!success) {<br>
00382                   // If we can&#39;t resize the ndarray we have we can allocate a new one.<br>
00383                   PyErr_Clear();<br>
00384                   Py_XDECREF(V1);<br>
00385                   V1 = (PyArrayObject*)PyArray_EMPTY(0, dims, NPY_FLOAT64, 0);<br>
00386               }<br>
00387           }<br>
00388           if (!V1) {<br>
00389               {<br>
00390           __failure = 7;<br>
00391           if (!PyErr_Occurred()) {<br>
00392               PyErr_SetString(PyExc_RuntimeError,<br>
00393                   &quot;Unexpected error in an Op&#39;s C code. &quot;<br>
00394                   &quot;No Python exception was set.&quot;);<br>
00395               }<br>
00396           goto __label_7;}<br>
00397           }<br>
00398       }<br>
00399<br>
00400<br>
00401                   {<br>
00402<br>
00403                     V3_iter = (npy_float64*)(PyArray_DATA(V3));<br>
00404   V5_iter = (npy_int8*)(PyArray_DATA(V5));<br>
00405   V1_iter = (npy_float64*)(PyArray_DATA(V1));<br>
00406<br>
00407                     npy_float64&amp; V3_i = *V3_iter;<br>
00408   npy_int8&amp; V5_i = *V5_iter;<br>
00409   npy_float64&amp; V1_i = *V1_iter;<br>
00410<br>
00411                     V1_i = V3_i - V5_i;<br>
00412<br>
00413                   }<br>
00414                   __label_7:<br>
00415<br>
00416   double __DUMMY_7;<br>
00417<br>
00418   }<br>
00419   __label_6:<br>
00420<br>
00421           if (V5) {<br>
00422               Py_XDECREF(V5);<br>
00423           }<br>
00424<br>
00425       {Py_XDECREF(py_V5);}<br>
00426<br>
00427   double __DUMMY_6;<br>
00428<br>
00429   }<br>
00430   __label_4:<br>
00431<br>
00432           if (V3) {<br>
00433               Py_XDECREF(V3);<br>
00434           }<br>
00435<br>
00436       {Py_XDECREF(py_V3);}<br>
00437<br>
00438   double __DUMMY_4;<br>
00439<br>
00440   }<br>
00441   __label_2:<br>
00442<br>
00443       if (!</strong>failure) {<br>
00444<br>
00445           {Py_XDECREF(py_V1);}<br>
00446           if (!V1) {<br>
00447               Py_INCREF(Py_None);<br>
00448               py_V1 = Py_None;<br>
00449           }<br>
00450           else if ((void*)py_V1 != (void*)V1) {<br>
00451               py_V1 = (PyObject*)V1;<br>
00452           }<br>
00453<br>
00454           {Py_XINCREF(py_V1);}<br>
00455<br>
00456           if (V1 &amp;&amp; !PyArray_ISALIGNED((PyArrayObject*) py_V1)) {<br>
00457               PyErr_Format(PyExc_NotImplementedError,<br>
00458                            &quot;c_sync: expected an aligned array, got non-aligned array of type %ld&quot;<br>
00459                            &quot; with %ld dimensions, with 3 last dims &quot;<br>
00460                            &quot;%ld, %ld, %ld&quot;<br>
00461                            &quot; and 3 last strides %ld %ld, %ld.&quot;,<br>
00462                            (long int) PyArray_TYPE((PyArrayObject*) py_V1),<br>
00463                            (long int) PyArray_NDIM(V1),<br>
00464                            (long int) PyArray_NDIM(V1) &gt;= 3 ?<br>
00465           PyArray_DIMS(V1)[PyArray_NDIM(V1)-3] : -1,<br>
00466                            (long int) PyArray_NDIM(V1) &gt;= 2 ?<br>
00467           PyArray_DIMS(V1)[PyArray_NDIM(V1)-2] : -1,<br>
00468                            (long int) PyArray_NDIM(V1) &gt;= 1 ?<br>
00469           PyArray_DIMS(V1)[PyArray_NDIM(V1)-1] : -1,<br>
00470                            (long int) PyArray_NDIM(V1) &gt;= 3 ?<br>
00471           PyArray_STRIDES(V1)[PyArray_NDIM(V1)-3] : -1,<br>
00472                            (long int) PyArray_NDIM(V1) &gt;= 2 ?<br>
00473           PyArray_STRIDES(V1)[PyArray_NDIM(V1)-2] : -1,<br>
00474                            (long int) PyArray_NDIM(V1) &gt;= 1 ?<br>
00475           PyArray_STRIDES(V1)[PyArray_NDIM(V1)-1] : -1<br>
00476           );<br>
00477               {<br>
00478           <strong>failure = 2;<br>
00479           if (!PyErr_Occurred()) {<br>
00480               PyErr_SetString(PyExc_RuntimeError,<br>
00481                   &quot;Unexpected error in an Op&#39;s C code. &quot;<br>
00482                   &quot;No Python exception was set.&quot;);<br>
00483               }<br>
00484           goto __label_2;}<br>
00485           }<br>
00486<br>
00487         PyObject* old = PyList_GET_ITEM(storage_V1, 0);<br>
00488         {Py_XINCREF(py_V1);}<br>
00489         PyList_SET_ITEM(storage_V1, 0, py_V1);<br>
00490         {Py_XDECREF(old);}<br>
00491       }<br>
00492<br>
00493           if (V1) {<br>
00494               Py_XDECREF(V1);<br>
00495           }<br>
00496<br>
00497       {Py_XDECREF(py_V1);}<br>
00498<br>
00499   double __DUMMY_2;<br>
00500<br>
00501   }<br>
00502<br>
00503<br>
00504           if (</strong>failure) {<br>
00505               // When there is a failure, this code puts the exception<br>
00506               // in <strong>ERROR.<br>
00507               PyObject* err_type = NULL;<br>
00508               PyObject* err_msg = NULL;<br>
00509               PyObject* err_traceback = NULL;<br>
00510               PyErr_Fetch(&amp;err_type, &amp;err_msg, &amp;err_traceback);<br>
00511               if (!err_type) {err_type = Py_None;Py_INCREF(Py_None);}<br>
00512               if (!err_msg) {err_msg = Py_None; Py_INCREF(Py_None);}<br>
00513               if (!err_traceback) {err_traceback = Py_None; Py_INCREF(Py_None);}<br>
00514               PyObject* old_err_type = PyList_GET_ITEM(</strong>ERROR, 0);<br>
00515               PyObject* old_err_msg = PyList_GET_ITEM(<strong>ERROR, 1);<br>
00516               PyObject* old_err_traceback = PyList_GET_ITEM(</strong>ERROR, 2);<br>
00517               PyList_SET_ITEM(<strong>ERROR, 0, err_type);<br>
00518               PyList_SET_ITEM(</strong>ERROR, 1, err_msg);<br>
00519               PyList_SET_ITEM(<strong>ERROR, 2, err_traceback);<br>
00520               {Py_XDECREF(old_err_type);}<br>
00521               {Py_XDECREF(old_err_msg);}<br>
00522               {Py_XDECREF(old_err_traceback);}<br>
00523           }<br>
00524           // The failure code is returned to index what code block failed.<br>
00525           return __failure;<br>
00526<br>
00527           }<br>
00528       };<br>
00529       }<br>
00530<br>
00531<br>
00532           static int __struct_compiled_op_8251ea1b4836b28fc8365dcfb7aefbef_executor(</strong>struct_compiled_op_8251ea1b4836b28fc8365dcfb7aefbef* self) {<br>
00533               return self->run();<br>
00534           }<br>
00535<br>
00536           static void <strong>struct_compiled_op_8251ea1b4836b28fc8365dcfb7aefbef_destructor(void* executor, void* self) {<br>
00537               delete ((</strong>struct_compiled_op_8251ea1b4836b28fc8365dcfb7aefbef*)self);<br>
00538           }<br>
00539<br>
00540   //////////////////////<br>
00541   ////  Functions<br>
00542   //////////////////////<br>
00543   static PyObject * instantiate(PyObject * self, PyObject <em>argtuple) {<br>
00544     assert(PyTuple_Check(argtuple));<br>
00545     if (4 != PyTuple_Size(argtuple)){<br>
00546        PyErr_Format(PyExc_TypeError, &quot;Wrong number of arguments, expected 4, got %i&quot;, (int)PyTuple_Size(argtuple));<br>
00547        return NULL;<br>
00548     }<br>
00549     __struct_compiled_op_8251ea1b4836b28fc8365dcfb7aefbef</em> struct_ptr = new <strong>struct_compiled_op_8251ea1b4836b28fc8365dcfb7aefbef();<br>
00550     if (struct_ptr->init( PyTuple_GET_ITEM(argtuple, 0),PyTuple_GET_ITEM(argtuple, 1),PyTuple_GET_ITEM(argtuple, 2),PyTuple_GET_ITEM(argtuple, 3) ) != 0) {<br>
00551       delete struct_ptr;<br>
00552       return NULL;<br>
00553     }<br>
00554     PyObject* thunk = PyCObject_FromVoidPtrAndDesc((void*)(&amp;</strong>struct_compiled_op_8251ea1b4836b28fc8365dcfb7aefbef_executor), struct_ptr, __struct_compiled_op_8251ea1b4836b28fc8365dcfb7aefbef_destructor);<br>
00555     return thunk; }<br>
00556<br>
00557   //////////////////////<br>
00558   ////  Module init<br>
00559   //////////////////////<br>
00560   static PyMethodDef MyMethods[] = {<br>
00561       {&quot;instantiate&quot;, instantiate, METH_VARARGS, &quot;undocumented&quot;} ,<br>
00562       {NULL, NULL, 0, NULL}<br>
00563   };<br>
00564   PyMODINIT_FUNC init8251ea1b4836b28fc8365dcfb7aefbef(void){<br>
00565      import_array();<br>
00566      (void) Py_InitModule(&quot;8251ea1b4836b28fc8365dcfb7aefbef&quot;, MyMethods);<br>
00567   }<br>
00568<br>
Problem occurred during compilation with the command line below:  </p>

<h2>/usr/bin/g++ -shared -g -O3 -fno-math-errno -Wno-unused-label -Wno-unused-variable -Wno-write-strings -march=core-avx-i -mcx16 -msahf -mno-movbe -maes -mpclmul -mpopcnt -mno-abm -mno-lwp -mno-fma -mno-fma4 -mno-xop -mno-bmi -mno-bmi2 -mno-tbm -mavx -mno-avx2 -msse4.2 -msse4.1 -mno-lzcnt -mno-rtm -mno-hle -mrdrnd -mf16c -mfsgsbase -mno-rdseed -mno-prfchw -mno-adx -mfxsr -mxsave -mxsaveopt --param l1-cache-size=32 --param l1-cache-line-size=64 --param l2-cache-size=25600 -mtune=core-avx-i -D NPY_NO_DEPRECATED_API=NPY_1_7_API_VERSION -m64 -fPIC -I/usr/local/lib/python2.7/dist-packages/numpy/core/include -I/usr/include/python2.7 -I/usr/local/lib/python2.7/dist-packages/theano/gof -fvisibility=hidden -o /home/qexec-restricted/.theano/compiledir_Linux-4.2--generic-x86_64-with-Ubuntu-14.04-trusty-x86_64-2.7.11-64/tmpZbZ4V0/8251ea1b4836b28fc8365dcfb7aefbef.so /home/qexec-restricted/.theano/compiledir_Linux-4.2--generic-x86_64-with-Ubuntu-14.04-trusty-x86_64-2.7.11-64/tmpZbZ4V0/mod.cpp -L/usr/lib -lpython2.7</h2>

<p>Exception                                 Traceback (most recent call last)<br>
 in ()<br>
      1 bt = get_backtest(&#39;56c802ee21043c0df860d76a&#39;)<br>
----> 2 bt.create_full_tear_sheet(bayesian=True, live_start_date=&#39;2015-1-1&#39;)</p>

<p>/build/src/qexec_repo/qexec/research/results.py in create_full_tear_sheet(self, benchmark_rets, live_start_date, bayesian, round_trips, hide_positions, cone_std)
    992             round_trips=round_trips,<br>
    993             hide_positions=hide_positions,<br>
--> 994             cone_std=cone_std<br>
    995         )</p>

<p>/usr/local/lib/python2.7/dist-packages/pyfolio/tears.pyc in create_full_tear_sheet(returns, positions, transactions, benchmark_rets, gross_lev, slippage, live_start_date, sector_mappings, bayesian, round_trips, hide_positions, cone_std, set_context)
    184                                    live_start_date=live_start_date,<br>
    185                                    benchmark_rets=benchmark_rets,<br>
--> 186                                    set_context=set_context)<br>
    187<br>
    188 </p>

<p>/usr/local/lib/python2.7/dist-packages/pyfolio/plotting.pyc in call_w_context(<em>args, **kwargs)
     44         if set_context:<br>
     45             with context():<br>
---> 46                 return func(</em>args, **kwargs)<br>
     47         else:<br>
     48             return func(*args, **kwargs)</p>

<p>/usr/local/lib/python2.7/dist-packages/pyfolio/tears.pyc in create_bayesian_tear_sheet(returns, benchmark_rets, live_start_date, samples, return_fig, stoch_vol)
    744     trace_t, ppc_t = bayesian.run_model(&#39;t&#39;, df_train,<br>
    745                                         returns_test=df_test,<br>
--> 746                                         samples=samples, ppc=True)<br>
    747     previous_time = timer(&quot;T model&quot;, previous_time)<br>
    748 </p>

<p>/usr/local/lib/python2.7/dist-packages/pyfolio/bayesian.pyc in run_model(model, returns_train, returns_test, bmark, samples, ppc)
    576                                                   bmark, samples)<br>
    577     elif model == &#39;t&#39;:<br>
--> 578         model, trace = model_returns_t(returns_train, samples)<br>
    579     elif model == &#39;normal&#39;:<br>
    580         model, trace = model_returns_normal(returns_train, samples)</p>

<p>/usr/local/lib/python2.7/dist-packages/pyfolio/bayesian.pyc in model_returns_t(data, samples)
    165<br>
    166     with pm.Model() as model:<br>
--> 167         mu = pm.Normal(&#39;mean returns&#39;, mu=0, sd=.01, testval=data.mean())<br>
    168         sigma = pm.HalfCauchy(&#39;volatility&#39;, beta=1, testval=data.std())<br>
    169         nu = pm.Exponential(&#39;nu_minus_two&#39;, 1. / 10., testval=3.)</p>

<p>/usr/local/lib/python2.7/dist-packages/pymc3/distributions/distribution.pyc in <strong>new</strong>(cls, name, *args, **kwargs)
     22             data = kwargs.pop(&#39;observed&#39;, None)<br>
     23             dist = cls.dist(*args, **kwargs)<br>
---> 24             return model.Var(name, dist, data)<br>
     25         elif name is None:<br>
     26             return object.__new__(cls) #for pickle</p>

<p>/usr/local/lib/python2.7/dist-packages/pymc3/model.pyc in Var(self, name, dist, data)
    224         if data is None:<br>
    225             if getattr(dist, &quot;transform&quot;, None) is None:<br>
--> 226                 var = FreeRV(name=name, distribution=dist, model=self)<br>
    227                 self.free_RVs.append(var)<br>
    228             else:</p>

<p>/usr/local/lib/python2.7/dist-packages/pymc3/model.pyc in <strong>init</strong>(self, type, owner, index, name, distribution, model)
    436             self.tag.test_value = np.ones(<br>
    437                 distribution.shape, distribution.dtype) * distribution.default()<br>
--> 438             self.logp_elemwiset = distribution.logp(self)<br>
    439             self.model = model<br>
    440 </p>

<p>/usr/local/lib/python2.7/dist-packages/pymc3/distributions/continuous.pyc in logp(self, value)
    171<br>
    172         return bound(<br>
--> 173             (-tau * (value - mu) ** 2 + log(tau / pi / 2.)) / 2.,<br>
    174             tau &gt; 0,<br>
    175             sd &gt; 0</p>

<p>/usr/local/lib/python2.7/dist-packages/theano/tensor/var.pyc in <strong>sub</strong>(self, other)
    151         # and the return value in that case<br>
    152         try:<br>
--> 153             return theano.tensor.basic.sub(self, other)<br>
    154         except (NotImplementedError, AsTensorError):<br>
    155             return NotImplemented</p>

<p>/usr/local/lib/python2.7/dist-packages/theano/gof/op.pyc in <strong>call</strong>(self, *inputs, **kwargs)
    645                 # compute output value once with test inputs to validate graph<br>
    646                 thunk = node.op.make_thunk(node, storage_map, compute_map,<br>
--> 647                                            no_recycling=[])<br>
    648                 thunk.inputs = [storage_map[v] for v in node.inputs]<br>
    649                 thunk.outputs = [storage_map[v] for v in node.outputs]</p>

<p>/usr/local/lib/python2.7/dist-packages/theano/tensor/elemwise.pyc in make_thunk(self, node, storage_map, compute_map, no_recycling)
    813<br>
    814         return super(Elemwise, node_.op).make_thunk(node_, storage_map,<br>
--> 815                                                     compute_map, no_recycling)<br>
    816<br>
    817     def perform(self, node, inputs, output_storage):</p>

<p>/usr/local/lib/python2.7/dist-packages/theano/gof/op.pyc in make_thunk(self, node, storage_map, compute_map, no_recycling)
   1166         self.update_self_openmp()<br>
   1167         return super(OpenMPOp, self).make_thunk(node, storage_map,<br>
-> 1168                                                 compute_map, no_recycling)<br>
   1169<br>
   1170 </p>

<p>/usr/local/lib/python2.7/dist-packages/theano/gof/op.pyc in make_thunk(self, node, storage_map, compute_map, no_recycling)
    930             try:<br>
    931                 return self.make_c_thunk(node, storage_map, compute_map,<br>
--> 932                                          no_recycling)<br>
    933             except (NotImplementedError, utils.MethodNotDefined):<br>
    934                 logger.debug(&#39;Falling back on perform&#39;)</p>

<p>/usr/local/lib/python2.7/dist-packages/theano/gof/op.pyc in make_c_thunk(self, node, storage_map, compute_map, no_recycling)
    848         logger.debug(&#39;Trying CLinker.make_thunk&#39;)<br>
    849         outputs = cl.make_thunk(input_storage=node_input_storage,<br>
--> 850                                 output_storage=node_output_storage)<br>
    851         fill_storage, node_input_filters, node_output_filters = outputs<br>
    852 </p>

<p>/usr/local/lib/python2.7/dist-packages/theano/gof/cc.pyc in make_thunk(self, input_storage, output_storage, storage_map, keep_lock)
   1205         cthunk, in_storage, out_storage, error_storage = self.__compile__(<br>
   1206             input_storage, output_storage, storage_map,<br>
-> 1207             keep_lock=keep_lock)<br>
   1208<br>
   1209         res = <em>CThunk(cthunk, init_tasks, tasks, error</em>storage)</p>

<p>/usr/local/lib/python2.7/dist-packages/theano/gof/cc.pyc in <strong>compile</strong>(self, input_storage, output_storage, storage_map, keep_lock)
   1150                                     output_storage,<br>
   1151                                     storage_map,<br>
-> 1152                                     keep_lock=keep_lock)<br>
   1153         return (thunk,<br>
   1154                 [link.Container(input, storage) for input, storage in</p>

<p>/usr/local/lib/python2.7/dist-packages/theano/gof/cc.pyc in cthunk_factory(self, error_storage, in_storage, out_storage, storage_map, keep_lock)
   1600         else:<br>
   1601             module = get_module_cache().module_from_key(<br>
-> 1602                 key=key, lnk=self, keep_lock=keep_lock)<br>
   1603<br>
   1604         vars = self.inputs + self.outputs + self.orphans</p>

<p>/usr/local/lib/python2.7/dist-packages/theano/gof/cmodule.pyc in module_from_key(self, key, lnk, keep_lock)
   1172             try:<br>
   1173                 location = dlimport_workdir(self.dirname)<br>
-> 1174                 module = lnk.compile_cmodule(location)<br>
   1175                 name = module.__file__<br>
   1176                 assert name.startswith(location)</p>

<p>/usr/local/lib/python2.7/dist-packages/theano/gof/cc.pyc in compile_cmodule(self, location)
   1511                 lib_dirs=self.lib_dirs(),<br>
   1512                 libs=libs,<br>
-> 1513                 preargs=preargs)<br>
   1514         except Exception as e:<br>
   1515             e.args += (str(self.fgraph),)</p>

<p>/usr/local/lib/python2.7/dist-packages/theano/gof/cmodule.pyc in compile_str(module_name, src_code, location, include_dirs, lib_dirs, libs, preargs, py_module, hide_symbols)
   2185             # difficult to read.<br>
   2186             raise Exception(&#39;Compilation failed (return status=%s): %s&#39; %<br>
-> 2187                             (status, compile_stderr.replace(&#39;\n&#39;, &#39;. &#39;)))<br>
   2188         elif config.cmodule.compilation_warning and compile_stderr:<br>
   2189             # Print errors just below the command line.</p>

<p>Exception: (&quot;Compilation failed (return status=1): collect2: fatal error: cannot find &#39;ld&#39;. compilation terminated.. &quot;, &#39;[Elemwise{sub,no_inplace}(mean returns, TensorConstant{0})]&#39;)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56d4780e0191ab60bf0001a5' id='56d4780e0191ab60bf0001a5'>
<a href='new-feature-comprehensive-backtest-analysis.html#56d4780e0191ab60bf0001a5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/52b9b56c02cabe5dae000143'><img alt="F2fd96b68755f9337a89b600b6ef2f91?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/f2fd96b68755f9337a89b600b6ef2f91?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/52b9b56c02cabe5dae000143'>Alisa Deychman</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1456764945000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56d4780e0191ab60bf0001a5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi John, we&#39;ll take a look at the compilation error follow up here when it&#39;s fixed  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56d491e391900684c200019a' id='56d491e391900684c200019a'>
<a href='new-feature-comprehensive-backtest-analysis.html#56d491e391900684c200019a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'><img alt="25bc1a4b9096cf335e0c83404ffac26e?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1456771559000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56d491e391900684c200019a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>In the meantime, if you set <code>bayesian=False</code>, the rest should work fine.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56db0a3d81e68052a1000037' id='56db0a3d81e68052a1000037'>
<a href='new-feature-comprehensive-backtest-analysis.html#56db0a3d81e68052a1000037'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/56cf439a40d10609460000a9'><img alt="76ca0f4fdda8e7d46ba24fe0325db27d?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/76ca0f4fdda8e7d46ba24fe0325db27d?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/56cf439a40d10609460000a9'>Lucas Lee</a>
</div>
<a UTCms='1457195587000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56db0a3d81e68052a1000037'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi, Thomas, I&#39;ve got the same exception: &quot;raise KeyError...&quot; as Anthony described above, have you fixed that bug?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56df3f6aa95aff175b000198' id='56df3f6aa95aff175b000198'>
<a href='new-feature-comprehensive-backtest-analysis.html#56df3f6aa95aff175b000198'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/56a69e084c718fe7fe0000d2'><img alt="990de02a44ea0206ffec569f44a5e2f5?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/990de02a44ea0206ffec569f44a5e2f5?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/56a69e084c718fe7fe0000d2'>Adam Ferris</a>
</div>
<a UTCms='1457471344000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56df3f6aa95aff175b000198'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m new to this. I use Quantopian&#39;s backtesting interface and I&#39;m trying to add this reporting feature to my algorithm. Do I add &quot;pip install pyfolio&quot; to the top of my algorithm page?</p>

<p>I tried this but I get an error message. Any suggestions on what I should do?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56e04d435ce058dea300097d' id='56e04d435ce058dea300097d'>
<a href='new-feature-comprehensive-backtest-analysis.html#56e04d435ce058dea300097d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/54aae037a9e4c8d716000059'><img alt="45709ef169cf145588bb8679c6d0baf3?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/45709ef169cf145588bb8679c6d0baf3?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/54aae037a9e4c8d716000059'>Andrew Campbell</a>
<div class='quantopian-badge'></div>
</div>
<a UTCms='1457540431000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56e04d435ce058dea300097d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Adam, </p>

<p>You can run a pyfolio tearsheet from the research environment (click the research tab at the top of your screen). Copy the backtest ID you want to analyze from the url you see when on the full backtest screen (the last string of letters and numbers in something like <code>https://www.quantopian.com/algorithms/568ac679adf9dd2d93000035/56ab9b0c02e9c012972af9c6</code>) and paste it into the following command in a research notebook:</p>

<pre><code>bt = get_backtest(&#39;your backtest id here&#39;)

bt.create_full_tear_sheet()  
</code></pre>

<p>Check out the Analyzing Backtest Results tutorial in your research environment tutorials folder for more details on pyfolio. </p>

<p>Andrew  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56e1074323aa719eaa000575' id='56e1074323aa719eaa000575'>
<a href='new-feature-comprehensive-backtest-analysis.html#56e1074323aa719eaa000575'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/56a8196e384d0519150000cf'><img alt="Fc260316ff51383a8eb95a56353cf504?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/fc260316ff51383a8eb95a56353cf504?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/56a8196e384d0519150000cf'>kamran sokhanvari</a>
</div>
<a UTCms='1457588042000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56e1074323aa719eaa000575'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I keep getting this error !!</p>

<p>ChunkedEncodingError: (&#39;Connection broken: IncompleteRead(419 bytes read, 93 more expected)&#39;, IncompleteRead(419 bytes read, 93 more expected))  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56f2f59f4ea645244d000692' id='56f2f59f4ea645244d000692'>
<a href='new-feature-comprehensive-backtest-analysis.html#56f2f59f4ea645244d000692'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/56f18ad1ee1174052f000967'><img alt="Da7de820741e1b6bdb1691a18a33ec6f?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/da7de820741e1b6bdb1691a18a33ec6f?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/56f18ad1ee1174052f000967'>Pradeep Bukarwal</a>
</div>
<a UTCms='1458763172000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56f2f59f4ea645244d000692'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Thomas,</p>

<p>I am one step before newbie with Pyfolio.</p>

<p>Could you please help with following error: (not able to generate tear sheet with missing few last plots)</p>

<p>TypeError                                 Traceback (most recent call last)<br>
 in ()<br>
----> 1 pf.create_returns_tear_sheet(stock_rets)</p>

<p>/usr/local/lib/python3.4/dist-packages/pyfolio/plotting.py in call_w_context(<em>args, **kwargs)
     44         if set_context:<br>
     45             with context():<br>
---> 46                 return func(</em>args, **kwargs)<br>
     47         else:<br>
     48             return func(*args, **kwargs)</p>

<p>/usr/local/lib/python3.4/dist-packages/pyfolio/tears.py in create_returns_tear_sheet(returns, live_start_date, cone_std, benchmark_rets, return_fig)
    311<br>
    312     print(&#39;\n&#39;)<br>
--> 313     plotting.show_return_range(returns, df_weekly)<br>
    314<br>
    315     plotting.plot_monthly_returns_heatmap(returns, ax=ax_monthly_heatmap)</p>

<p>/usr/local/lib/python3.4/dist-packages/pyfolio/plotting.py in show_return_range(returns, df_weekly)
   1050                                  &#39;2-sigma returns weekly&#39;])<br>
   1051<br>
-> 1052     print(np.round(var_sigma, 3))<br>
   1053<br>
   1054 </p>

<p>/usr/local/lib/python3.4/dist-packages/numpy/core/fromnumeric.py in round_(a, decimals, out)
   2784     except AttributeError:<br>
   2785         return _wrapit(a, &#39;round&#39;, decimals, out)<br>
-> 2786     return round(decimals, out)<br>
   2787<br>
   2788 </p>

<p>TypeError: round() takes from 1 to 2 positional arguments but 3 were given</p>

<p>Thanks  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56fca26d9426be7d9f000723' id='56fca26d9426be7d9f000723'>
<a href='new-feature-comprehensive-backtest-analysis.html#56fca26d9426be7d9f000723'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='https://www.quantopian.com/users/56f18ad1ee1174052f000967'><img alt="Da7de820741e1b6bdb1691a18a33ec6f?default=https%3a%2f%2fs3.amazonaws.com%2fquantopian-website-assets%2fempty-profile" class="avatar" height="30" src="https://secure.gravatar.com/avatar/da7de820741e1b6bdb1691a18a33ec6f?default=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fempty-profile.png" width="30" /></a>
</div>
<a class='author-name' href='https://www.quantopian.com/users/56f18ad1ee1174052f000967'>Pradeep Bukarwal</a>
</div>
<a UTCms='1459397234000' class='quanto-date posted-at response-posted-at' href='new-feature-comprehensive-backtest-analysis.html#56fca26d9426be7d9f000723'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Resolved!.. had to make changes on numpy/core/fromnumeric.py and pyfolio/plotting.py  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='../signin.html'>sign in</a> or <a href='../users/sign_up.html'>join Quantopian</a> to post a reply.
</div>
</div>
<script>
  //<![CDATA[
    window.fbAsyncInit = function() {
      FB.init({
        appId: "550580758292093",
        status: false,
        cookie: true,
        xfbml: true
      });
    };
    
    (function(d, debug){
      var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
      if (d.getElementById(id)) {return;}
      js = d.createElement('script'); js.id = id; js.async = true;
      js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
      ref.parentNode.insertBefore(js, ref);
    }(document, /*debug*/ false));
    
    window.twttr = (function (d,s,id) {
      var t, js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
      js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
      return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
    }(document, "script", "twitter-wjs"));
  //]]>
</script>

<script>
  //<![CDATA[
    $(document).ready(function () {
      quanto.instances.pm = new quanto.PostManager(false)
    });
  //]]>
</script>


<div class='fade modal' id='error-modal' role='dialog'>
<div class='modal-dialog'>
<div class='modal-content'>
<div class='modal-header'>
<h4 class='modal-title'>Error</h4>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-primary' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal' id='confirmation-modal' role='dialog'>
<div class='modal-dialog'>
<div class='modal-content'>
<div class='modal-header'>
<h4 class='modal-title'></h4>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-default' data-dismiss='modal'>Cancel</button>
<button class='btn btn-primary action-button' data-dismiss='modal'></button>
</div>

</div>
</div>
</div>

<div class='fade modal' id='feedback-modal' role='dialog'>
<div class='modal-dialog'>
<div class='modal-content'>
<div class='modal-header'>
<h3 class='modal-title'>Send Feedback</h3>
</div>
<div class='modal-body'>
<div class='controls'>
<div class='from'>
<span class='valign-top'>From: </span>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' placeholder='Email address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='text'>
</div>
</div>
</div>
<textarea class='form-control input-xxlarge width_100pct' id='feedback-box' rows='10'></textarea>
<div class='feedback-checkbox'>
<div class='checkbox'>
<label>
<input id='anonymous-feedback-checkbox' type='checkbox'>I understand I will not receive a reply without providing a valid email address.</input>
</label>
</div>
</div>
</div>
<div class='success hidden'>
<span>Thank you!  We will be in touch soon.</span>
</div>
</div>
<div class='modal-footer'>
<div class='controls'>
<button class='btn btn-default' data-dismiss='modal'>Cancel</button>
<button class='btn btn-primary' id='send-feedback-button'>Send</button>
</div>
<div class='success hidden'>
<a class='btn btn-primary' data-dismiss='modal' href='new-feature-comprehensive-backtest-analysis.html#'>Close</a>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal' id='join-modal' role='dialog'>
<div class='modal-dialog'>
<div class='modal-content'>
<div class='modal-header'>
<h3 class='modal-title'>Join Quantopian.  It's free!</h3>
</div>
<div class='modal-body'>
<p class='large'>Once you join, you can:</p>
<div class='margin_20t'>
<div class='action'>
<i class='icon icon-copy'></i>
Create more algorithms
</div>
<div class='action'>
<i class='icon icon-bar-chart'></i>
Run full backtests, with detailed risk metrics and full transaction reports
</div>
<div class='action'>
<i class='icon icon-comments-alt'></i>
Post and share in our community
</div>
<div class='action'>
<i class='icon icon-trophy'></i>
Submit algorithms to the Quantopian Open
</div>
</div>
<div class='margin_20t margin_20b large'>Don't worry, all your work is already saved.</div>
</div>
<div class='modal-footer'>
<div class='pull-left'>
<a class='btn btn-default btn-large' data-dismiss='modal' href='new-feature-comprehensive-backtest-analysis.html#'>Close</a>
</div>
<a class='btn btn-primary btn-large font-14' href='../users/sign_up.html'>Join Quantopian</a>
<a class='btn btn-default btn-large font-14 login-button' href='../users/sign_in.html'>Log In</a>
</div>

</div>
</div>
</div>

<div class='fade modal' id='message-modal' role='dialog'>
<div class='modal-dialog'>
<div class='modal-content'>
<div class='modal-header'>
<h3 class='modal-title'></h3>
</div>
<div class='modal-body'></div>
<div class='modal-footer'>
<button class='btn btn-primary' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

</div>
<div class='footer new-style' id='quanto-footer-container'>
<div class='row-fluid main-footer container'>
<div class='left-space span1'></div>
<div class='footer-content span11'>
<div class='row-fluid footer-inner row'>
<div class='span3 col-sm-4'>
<div class='footer-item'>
<div class='title h2'>Company</div>
<div class='footer-row'>
<a href='../about.html'>About</a>
</div>
<div class='footer-row'>
<a href='../academia.html'>Academia</a>
</div>
<div class='footer-row'>
<a href='../workshops.html'>Workshops</a>
</div>
<div class='footer-row'>
<a href='../about.html'>Careers</a>
</div>
<div class='footer-row'>
<a href='../posts.html'>Community</a>
</div>
<div class='footer-row'>
<a href='../prospective_investors.html'>Prospective Investors</a>
</div>
</div>
</div>
<div class='span3 col-sm-4'>
<div class='footer-item'>
<div class='title h2'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='../tutorials/getting-started.html'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='../faq.html'>FAQs</a>
</div>
<div class='footer-row'>
<a href='../help.html'>Help &amp; API docs</a>
</div>
<div class='footer-row'>
<a href='../tutorials.html'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='../lectures.html'>Lectures</a>
</div>
<div class='footer-row'>
<a href='http://status.quantopian.com'>Site Status</a>
</div>
<div class='footer-row'>
<a href='../security.html'>Security</a>
</div>
</div>
</div>

<div class='col-sm-6'>
<div class='feedback-email pull-right'>
Need Help?
<a class='open-feedback-link' href='new-feature-comprehensive-backtest-analysis.html#'>Contact Support</a>
</div>
</div>
</div>
<div class='row'>
<div class='span3 col-sm-4'>
<div class='footer-item'>
<div class='title h2'>Notices</div>
<div class='footer-row'>
<a href='../policies/terms.html'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='../policies/privacy.html'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='../policies/risks.html'>Trading Risk</a>
</div>
<div class='footer-row'>
<a href='../policies/live_trading.html'>Brokerage Terms</a>
</div>
</div>
</div>
<div class='span3 col-sm-4'>
<div class='footer-item'>
<div class='title h2'>Follow Us</div>
<div class='footer-row'>
<a href='http://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='http://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='http://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='http://blog.quantopian.com'>Blog</a>
</div>
</div>
</div>

</div>
<div class='row'>
<div class='col-sm-14'>
<div class='pull-right copyright'>&copy; 2016 Quantopian, Inc.</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row'>
<a href='../about.html'>About Quantopian</a>
</div>
<div class='mobile-nav-row'>
<a href='../about.html'>Careers</a>
</div>
<div class='mobile-nav-row'>
<a href='../posts.html'>Community</a>
</div>
<div class='mobile-nav-row'>
<a href='../help.html'>Help</a>
</div>
<div class='mobile-nav-row'>
<a href='../academia.html'>Academia</a>
</div>
<div class='mobile-nav-row'>
<a href='../lectures.html'>Lectures</a>
</div>
<div class='mobile-nav-row'>
<a href='../workshops.html'>Workshops</a>
</div>
<div class='mobile-nav-row'>
<a href='http://status.quantopian.com'>Status</a>
</div>
<div class='mobile-nav-row'>
<a href='http://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row'>
<a href='http://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row'>
<a href='http://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row'>
<a href='http://blog.quantopian.com'>Blog</a>
</div>
</div>
<div class='mobile-nav-category secondary-links'>
<div class='mobile-nav-row'>
<p>&copy; 2016 Quantopian</p>
</div>
<div class='mobile-nav-row'>
<a href='../policies/terms.html'>Terms of Use</a>
</div>
<div class='mobile-nav-row'>
<a href='../policies/privacy.html'>Privacy Policy</a>
</div>
</div>
</div>

</div>

</div>
<script type="text/javascript">/* <![CDATA[ */(function(d,s,a,i,j,r,l,m,t){try{l=d.getElementsByTagName('a');t=d.createElement('textarea');for(i=0;l.length-i;i++){try{a=l[i].href;s=a.indexOf('/cdn-cgi/l/email-protection');m=a.length;if(a&&s>-1&&m>28){j=28+s;s='';if(j<m){r='0x'+a.substr(j,2)|0;for(j+=2;j<m&&a.charAt(j)!='X';j+=2)s+='%'+('0'+('0x'+a.substr(j,2)^r).toString(16)).slice(-2);j++;s=decodeURIComponent(s)+a.substr(j,m-j)}t.innerHTML=s.replace(/</g,'&lt;').replace(/>/g,'&gt;');l[i].href='mailto:'+t.value}}catch(e){}}}catch(e){}})(document);/* ]]> */</script></body>
</html>
<script>
  //<![CDATA[
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8519877-1']);
    _gaq.push(['_trackPageview']);
    _gaq.push(['_setDomainName', 'quantopian.com']);
    _gaq.push(['_setCustomVar', 1, 'quanto_session_id', 'session_572d6deed42b61f8d200072e']);
    
    
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  //]]>
</script>


<input id="is_mac" name="is_mac" type="hidden" value="false" />
<script>
  //<![CDATA[
    (function(c,a){window.mixpanel=a;var b,d,h,e;b=c.createElement("script");b.type="text/javascript";b.async=!0;b.src=("https:"===c.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js';
    d=c.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d);a._i=[];a.init=function(b,c,f){function d(a,b){var c=b.split(".");2==c.length&&(a=a[c[0]],b=c[1]);
    a[b]=function(){a.push([b].concat(Array.prototype.slice.call(arguments,0)))}}
    var g=a;"undefined"!==typeof f? g=a[f]=[]:f="mixpanel";g.people=g.people||[];
    h="disable track track_pageview track_links track_forms register register_once unregister identify name_tag set_config people.identify people.set people.increment".split(" ");for(e=0;e<h.length;e++) d(g,h[e]);a._i.push([b,c,f])};a.__SV=1.1})(document,window.mixpanel||[]);mixpanel.init("75873953cd404bcc1da88a55ff51e3b4")
  //]]>
</script>

<script>
  //<![CDATA[
    mixpanel.track("view page", {"page": window.location.pathname})
  //]]>
</script>
<script type="text/javascript">if (typeof NREUMQ !== "undefined") { if (!NREUMQ.f) { NREUMQ.f=function() {
NREUMQ.push(["load",new Date().getTime()]);
var e=document.createElement("script");
e.type="text/javascript";
e.src=(("http:"===document.location.protocol)?"http:":"https:") + "//" +
  "js-agent.newrelic.com/nr-100.js";
document.body.appendChild(e);
if(NREUMQ.a)NREUMQ.a();
};
NREUMQ.a=window.onload;window.onload=NREUMQ.f;
};
NREUMQ.push(["nrfj","bam.nr-data.net","59252e476d","984851","dAlXTUcKWFpQRBlHVkQSShZGDVtB",11,1986,new Date().getTime(),"","","","",""]);}</script>
